<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <title>PHP Manual: Creates an initialization vector (IV) from a random source</title>

</head>
<body>
<table width="100%">
    <tr valign="top">
        <td style="font-size: smaller;" width="15%">
<style type="text/css">
#leftbar {
	float: left;
	width: 186px;
	padding: 5px;
	font-size: smaller;
}
ul.toc {
	margin: 0px 5px 5px 5px;
	padding: 0px;
}
ul.toc li {
	font-size: 85%;
	margin: 1px 0 1px 1px;
	padding: 1px 0 1px 11px;
	list-style-type: none;
	background-repeat: no-repeat;
	background-position: center left;
}
ul.toc li.header {
	font-size: 115%;
	padding: 5px 0px 5px 11px;
	border-bottom: 1px solid #cccccc;
	margin-bottom: 5px;
}
ul.toc li.active {
	font-weight: bold;
}
ul.toc li a {
	text-decoration: none;
}
ul.toc li a:hover {
	text-decoration: underline;
}
</style>
 <ul class="toc">
  <li class="header home"><a href="index.html">PHP Manual</a></li>
  <li class="header up"><a href="funcref.html">Function Reference</a></li>
  <li class="header up"><a href="refs.crypto.html">Cryptography Extensions</a></li>
  <li class="header up"><a href="book.mcrypt.html">Mcrypt</a></li>
  <li class="header up"><a href="ref.mcrypt.html">Mcrypt Functions</a></li>
  <li><a href="function.mcrypt-cbc.html">mcrypt_cbc</a></li>
  <li><a href="function.mcrypt-cfb.html">mcrypt_cfb</a></li>
  <li class="active"><a href="function.mcrypt-create-iv.html">mcrypt_create_iv</a></li>
  <li><a href="function.mcrypt-decrypt.html">mcrypt_decrypt</a></li>
  <li><a href="function.mcrypt-ecb.html">mcrypt_ecb</a></li>
  <li><a href="function.mcrypt-enc-get-algorithms-name.html">mcrypt_enc_get_algorithms_name</a></li>
  <li><a href="function.mcrypt-enc-get-block-size.html">mcrypt_enc_get_block_size</a></li>
  <li><a href="function.mcrypt-enc-get-iv-size.html">mcrypt_enc_get_iv_size</a></li>
  <li><a href="function.mcrypt-enc-get-key-size.html">mcrypt_enc_get_key_size</a></li>
  <li><a href="function.mcrypt-enc-get-modes-name.html">mcrypt_enc_get_modes_name</a></li>
  <li><a href="function.mcrypt-enc-get-supported-key-sizes.html">mcrypt_enc_get_supported_key_sizes</a></li>
  <li><a href="function.mcrypt-enc-is-block-algorithm-mode.html">mcrypt_enc_is_block_algorithm_mode</a></li>
  <li><a href="function.mcrypt-enc-is-block-algorithm.html">mcrypt_enc_is_block_algorithm</a></li>
  <li><a href="function.mcrypt-enc-is-block-mode.html">mcrypt_enc_is_block_mode</a></li>
  <li><a href="function.mcrypt-enc-self-test.html">mcrypt_enc_self_test</a></li>
  <li><a href="function.mcrypt-encrypt.html">mcrypt_encrypt</a></li>
  <li><a href="function.mcrypt-generic-deinit.html">mcrypt_generic_deinit</a></li>
  <li><a href="function.mcrypt-generic-end.html">mcrypt_generic_end</a></li>
  <li><a href="function.mcrypt-generic-init.html">mcrypt_generic_init</a></li>
  <li><a href="function.mcrypt-generic.html">mcrypt_generic</a></li>
  <li><a href="function.mcrypt-get-block-size.html">mcrypt_get_block_size</a></li>
  <li><a href="function.mcrypt-get-cipher-name.html">mcrypt_get_cipher_name</a></li>
  <li><a href="function.mcrypt-get-iv-size.html">mcrypt_get_iv_size</a></li>
  <li><a href="function.mcrypt-get-key-size.html">mcrypt_get_key_size</a></li>
  <li><a href="function.mcrypt-list-algorithms.html">mcrypt_list_algorithms</a></li>
  <li><a href="function.mcrypt-list-modes.html">mcrypt_list_modes</a></li>
  <li><a href="function.mcrypt-module-close.html">mcrypt_module_close</a></li>
  <li><a href="function.mcrypt-module-get-algo-block-size.html">mcrypt_module_get_algo_block_size</a></li>
  <li><a href="function.mcrypt-module-get-algo-key-size.html">mcrypt_module_get_algo_key_size</a></li>
  <li><a href="function.mcrypt-module-get-supported-key-sizes.html">mcrypt_module_get_supported_key_sizes</a></li>
  <li><a href="function.mcrypt-module-is-block-algorithm-mode.html">mcrypt_module_is_block_algorithm_mode</a></li>
  <li><a href="function.mcrypt-module-is-block-algorithm.html">mcrypt_module_is_block_algorithm</a></li>
  <li><a href="function.mcrypt-module-is-block-mode.html">mcrypt_module_is_block_mode</a></li>
  <li><a href="function.mcrypt-module-open.html">mcrypt_module_open</a></li>
  <li><a href="function.mcrypt-module-self-test.html">mcrypt_module_self_test</a></li>
  <li><a href="function.mcrypt-ofb.html">mcrypt_ofb</a></li>
  <li><a href="function.mdecrypt-generic.html">mdecrypt_generic</a></li>
 </ul>

        </td>
        <td width="85%">
            <div style="text-align: center;">
                <div class="prev" style="text-align: left; float: left;"><a href="function.mcrypt-cfb.html">mcrypt_cfb</a></div>
                <div class="next" style="text-align: right; float: right;"><a href="function.mcrypt-decrypt.html">mcrypt_decrypt</a></div>
                <div class="up"><a href="ref.mcrypt.html">Mcrypt Functions</a></div>
                <div class="home"><a href="index.html">PHP Manual</a></div>
            </div><hr/>
<div id="function.mcrypt-create-iv" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">mcrypt_create_iv</h1>
  <p class="refpurpose">Creates an initialization vector (IV) from a random source</p>
 </div>
 
 <div class="refsynopsisdiv">
  <div class="warning"><strong class="warning">Warning</strong>
   
<p class="para">
 This function was <em class="emphasis">DEPRECATED</em> in PHP 7.1.0.
</p>
<p class="para">
 Alternatives to this function include:
</p>

   <ul class="simplelist">
    <li class="member"><span class="function">random_bytes</span></li>
   </ul>
  </div>
 </div>
 
 <div class="refsect1 description" id="refsect1-function.mcrypt-create-iv-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">string</span> <span class="methodname">mcrypt_create_iv</span>
    ( <span class="methodparam"><span class="type">int</span> <code class="parameter">$size</code></span>
   [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$source</code><span class="initializer"> = MCRYPT_DEV_URANDOM</span></span>
  ] )</div>

  <p class="para rdfs-comment">
   Creates an initialization vector (IV) from a random source.
  </p>
  <p class="para">
   The IV is only meant to give an alternative seed to the encryption
   routines. This IV does not need to be secret at all, though it can be
   desirable. You even can send it along with your ciphertext without
   losing security.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.mcrypt-create-iv-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">size</code></dt>

     <dd>

      <p class="para">
       The size of the IV.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">source</code></dt>

     <dd>

      <p class="para">
       The source of the IV. The source can be
       <strong><code>MCRYPT_RAND</code></strong> (system random number generator),
       <strong><code>MCRYPT_DEV_RANDOM</code></strong> (read data from
       <var class="filename">/dev/random</var>) and
       <strong><code>MCRYPT_DEV_URANDOM</code></strong> (read data from
       <var class="filename">/dev/urandom</var>). Prior to 5.3.0,
       <strong><code>MCRYPT_RAND</code></strong> was the only one supported on Windows.
      </p>
      <p class="para">
       Note that the default value of this parameter was
       <strong><code>MCRYPT_DEV_RANDOM</code></strong> prior to PHP 5.6.0.
      </p>
      <blockquote class="note"><p><strong class="note">Note</strong>: 
       <span class="simpara">
        Note that <strong><code>MCRYPT_DEV_RANDOM</code></strong> may block until more
        entropy is available.
       </span>
      </p></blockquote>
     </dd>

    
   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.mcrypt-create-iv-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   Returns the initialization vector, or <strong><code>FALSE</code></strong> on error.
  </p>
 </div>

 
 <div class="refsect1 changelog" id="refsect1-function.mcrypt-create-iv-changelog">
  <h3 class="title">Changelog</h3>
  <p class="para">
   <table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>Version</th>
       <th>Description</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>5.6.0</td>
       <td>
        <strong><code>MCRYPT_DEV_URANDOM</code></strong> is now the default value of
        <code class="parameter">source</code>.
       </td>
      </tr>

      <tr>
       <td>5.3.0</td>
       <td>
        <strong><code>MCRYPT_DEV_RANDOM</code></strong> and
        <strong><code>MCRYPT_DEV_URANDOM</code></strong> became available on Windows
        platforms.
       </td>
      </tr>

      <tr>
       <td>5.3.0</td>
       <td>
        It is no longer required to call <span class="function">srand</span> first. This
        is now done automatically.
       </td>
      </tr>

     </tbody>
    
   </table>

  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.mcrypt-create-iv-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   <div class="example" id="random-int.example.basic">
    <p><strong>Example #1 <span class="function">mcrypt_create_iv</span> Example</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />&nbsp;&nbsp;&nbsp;&nbsp;$size&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">mcrypt_get_iv_size</span><span style="color: #007700">(</span><span style="color: #0000BB">MCRYPT_CAST_256</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">MCRYPT_MODE_CFB</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$iv&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">mcrypt_create_iv</span><span style="color: #007700">(</span><span style="color: #0000BB">$size</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">MCRYPT_DEV_RANDOM</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.mcrypt-create-iv-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><a href="http://www.ciphersbyritter.com/GLOSSARY.HTM#IV" class="link external">&raquo;&nbsp;http://www.ciphersbyritter.com/GLOSSARY.HTM#IV</a></li>
    <li class="member"><a href="http://www.quadibloc.com/crypto/co0409.htm" class="link external">&raquo;&nbsp;http://www.quadibloc.com/crypto/co0409.htm</a></li>
    <li class="member">Chapter 9.3 of Applied Cryptography by Schneier (ISBN 0-471-11709-9)</li>
    <li class="member"><span class="function">random_bytes</span></li>
   </ul>
  </p>
 </div>

</div>
        </td>
    </tr>
</table>
</body>
</html>
