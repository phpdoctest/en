<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <title>PHP Manual: Send a message to a message queue</title>

</head>
<body>
<table width="100%">
    <tr valign="top">
        <td style="font-size: smaller;" width="15%">
<style type="text/css">
#leftbar {
	float: left;
	width: 186px;
	padding: 5px;
	font-size: smaller;
}
ul.toc {
	margin: 0px 5px 5px 5px;
	padding: 0px;
}
ul.toc li {
	font-size: 85%;
	margin: 1px 0 1px 1px;
	padding: 1px 0 1px 11px;
	list-style-type: none;
	background-repeat: no-repeat;
	background-position: center left;
}
ul.toc li.header {
	font-size: 115%;
	padding: 5px 0px 5px 11px;
	border-bottom: 1px solid #cccccc;
	margin-bottom: 5px;
}
ul.toc li.active {
	font-weight: bold;
}
ul.toc li a {
	text-decoration: none;
}
ul.toc li a:hover {
	text-decoration: underline;
}
</style>
 <ul class="toc">
  <li class="header home"><a href="index.html">PHP Manual</a></li>
  <li class="header up"><a href="funcref.html">Function Reference</a></li>
  <li class="header up"><a href="refs.fileprocess.process.html">Process Control Extensions</a></li>
  <li class="header up"><a href="book.sem.html">Semaphore</a></li>
  <li class="header up"><a href="ref.sem.html">Semaphore Functions</a></li>
  <li><a href="function.ftok.html">ftok</a></li>
  <li><a href="function.msg-get-queue.html">msg_get_queue</a></li>
  <li><a href="function.msg-queue-exists.html">msg_queue_exists</a></li>
  <li><a href="function.msg-receive.html">msg_receive</a></li>
  <li><a href="function.msg-remove-queue.html">msg_remove_queue</a></li>
  <li class="active"><a href="function.msg-send.html">msg_send</a></li>
  <li><a href="function.msg-set-queue.html">msg_set_queue</a></li>
  <li><a href="function.msg-stat-queue.html">msg_stat_queue</a></li>
  <li><a href="function.sem-acquire.html">sem_acquire</a></li>
  <li><a href="function.sem-get.html">sem_get</a></li>
  <li><a href="function.sem-release.html">sem_release</a></li>
  <li><a href="function.sem-remove.html">sem_remove</a></li>
  <li><a href="function.shm-attach.html">shm_attach</a></li>
  <li><a href="function.shm-detach.html">shm_detach</a></li>
  <li><a href="function.shm-get-var.html">shm_get_var</a></li>
  <li><a href="function.shm-has-var.html">shm_has_var</a></li>
  <li><a href="function.shm-put-var.html">shm_put_var</a></li>
  <li><a href="function.shm-remove-var.html">shm_remove_var</a></li>
  <li><a href="function.shm-remove.html">shm_remove</a></li>
 </ul>

        </td>
        <td width="85%">
            <div style="text-align: center;">
                <div class="prev" style="text-align: left; float: left;"><a href="function.msg-remove-queue.html">msg_remove_queue</a></div>
                <div class="next" style="text-align: right; float: right;"><a href="function.msg-set-queue.html">msg_set_queue</a></div>
                <div class="up"><a href="ref.sem.html">Semaphore Functions</a></div>
                <div class="home"><a href="index.html">PHP Manual</a></div>
            </div><hr/>
<div id="function.msg-send" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">msg_send</h1>
  <p class="refpurpose">Send a message to a message queue</p>
 </div>
 
 <div class="refsect1 description" id="refsect1-function.msg-send-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">bool</span> <span class="methodname">msg_send</span>
    ( <span class="methodparam"><span class="type">resource</span> <code class="parameter">$queue</code></span>
   , <span class="methodparam"><span class="type">int</span> <code class="parameter">$msgtype</code></span>
   , <span class="methodparam"><span class="type">mixed</span> <code class="parameter">$message</code></span>
   [, <span class="methodparam"><span class="type">bool</span> <code class="parameter">$serialize</code><span class="initializer"> = true</span></span>
   [, <span class="methodparam"><span class="type">bool</span> <code class="parameter">$blocking</code><span class="initializer"> = true</span></span>
   [, <span class="methodparam"><span class="type">int</span> <code class="parameter reference">&$errorcode</code></span>
  ]]] )</div>

  <p class="para rdfs-comment">
   <span class="function">msg_send</span> sends a <code class="parameter">message</code> of type
   <code class="parameter">msgtype</code> (which MUST be greater than 0) to
   the message queue specified by <code class="parameter">queue</code>.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.msg-send-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">queue</code></dt>

     <dd>

      <p class="para">
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">msgtype</code></dt>

     <dd>

      <p class="para">
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">message</code></dt>

     <dd>

      <p class="para">
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">serialize</code></dt>

     <dd>

      <p class="para">
       The optional <code class="parameter">serialize</code> controls how the
       <code class="parameter">message</code> is sent.  <code class="parameter">serialize</code>
       defaults to <strong><code>TRUE</code></strong> which means that the <code class="parameter">message</code> is
       serialized using the same mechanism as the session module before being
       sent to the queue.  This allows complex arrays and objects to be sent to
       other PHP scripts, or if you are using the WDDX serializer, to any WDDX
       compatible client.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">blocking</code></dt>

     <dd>

      <p class="para">
       If the message is too large to fit in the queue, your script will wait
       until another process reads messages from the queue and frees enough
       space for your message to be sent.
       This is called blocking; you can prevent blocking by setting the
       optional <code class="parameter">blocking</code> parameter to <strong><code>FALSE</code></strong>, in which
       case <span class="function">msg_send</span> will immediately return <strong><code>FALSE</code></strong> if the
       message is too big for the queue, and set the optional
       <code class="parameter">errorcode</code> to <strong><code>MSG_EAGAIN</code></strong>,
       indicating that you should try to send your message again a little
       later on.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">errorcode</code></dt>

     <dd>

      <p class="para">
      </p>
     </dd>

    
   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.msg-send-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   Returns <strong><code>TRUE</code></strong> on success or <strong><code>FALSE</code></strong> on failure.
  </p>
  <p class="para">
   Upon successful completion the message queue data structure is updated as
   follows: <code class="parameter">msg_lspid</code> is set to the process-ID of the
   calling process, <code class="parameter">msg_qnum</code> is incremented by 1 and
   <code class="parameter">msg_stime</code> is set to the current time.
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.msg-send-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function">msg_remove_queue</span></li>
    <li class="member"><span class="function">msg_receive</span></li>
    <li class="member"><span class="function">msg_stat_queue</span></li>
    <li class="member"><span class="function">msg_set_queue</span></li>
   </ul>
  </p>
 </div>
  

</div>
        </td>
    </tr>
</table>
</body>
</html>
