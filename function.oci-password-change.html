<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <title>PHP Manual: Changes password of Oracle's user</title>

</head>
<body>
<table width="100%">
    <tr valign="top">
        <td style="font-size: smaller;" width="15%">
<style type="text/css">
#leftbar {
	float: left;
	width: 186px;
	padding: 5px;
	font-size: smaller;
}
ul.toc {
	margin: 0px 5px 5px 5px;
	padding: 0px;
}
ul.toc li {
	font-size: 85%;
	margin: 1px 0 1px 1px;
	padding: 1px 0 1px 11px;
	list-style-type: none;
	background-repeat: no-repeat;
	background-position: center left;
}
ul.toc li.header {
	font-size: 115%;
	padding: 5px 0px 5px 11px;
	border-bottom: 1px solid #cccccc;
	margin-bottom: 5px;
}
ul.toc li.active {
	font-weight: bold;
}
ul.toc li a {
	text-decoration: none;
}
ul.toc li a:hover {
	text-decoration: underline;
}
</style>
 <ul class="toc">
  <li class="header home"><a href="index.html">PHP Manual</a></li>
  <li class="header up"><a href="funcref.html">Function Reference</a></li>
  <li class="header up"><a href="refs.database.html">Database Extensions</a></li>
  <li class="header up"><a href="refs.database.vendors.html">Vendor Specific Database Extensions</a></li>
  <li class="header up"><a href="book.oci8.html">OCI8</a></li>
  <li class="header up"><a href="ref.oci8.html">OCI8 Functions</a></li>
  <li><a href="function.oci-bind-array-by-name.html">oci_bind_array_by_name</a></li>
  <li><a href="function.oci-bind-by-name.html">oci_bind_by_name</a></li>
  <li><a href="function.oci-cancel.html">oci_cancel</a></li>
  <li><a href="function.oci-client-version.html">oci_client_version</a></li>
  <li><a href="function.oci-close.html">oci_close</a></li>
  <li><a href="function.oci-commit.html">oci_commit</a></li>
  <li><a href="function.oci-connect.html">oci_connect</a></li>
  <li><a href="function.oci-define-by-name.html">oci_define_by_name</a></li>
  <li><a href="function.oci-error.html">oci_error</a></li>
  <li><a href="function.oci-execute.html">oci_execute</a></li>
  <li><a href="function.oci-fetch-all.html">oci_fetch_all</a></li>
  <li><a href="function.oci-fetch-array.html">oci_fetch_array</a></li>
  <li><a href="function.oci-fetch-assoc.html">oci_fetch_assoc</a></li>
  <li><a href="function.oci-fetch-object.html">oci_fetch_object</a></li>
  <li><a href="function.oci-fetch-row.html">oci_fetch_row</a></li>
  <li><a href="function.oci-fetch.html">oci_fetch</a></li>
  <li><a href="function.oci-field-is-null.html">oci_field_is_null</a></li>
  <li><a href="function.oci-field-name.html">oci_field_name</a></li>
  <li><a href="function.oci-field-precision.html">oci_field_precision</a></li>
  <li><a href="function.oci-field-scale.html">oci_field_scale</a></li>
  <li><a href="function.oci-field-size.html">oci_field_size</a></li>
  <li><a href="function.oci-field-type-raw.html">oci_field_type_raw</a></li>
  <li><a href="function.oci-field-type.html">oci_field_type</a></li>
  <li><a href="function.oci-free-descriptor.html">oci_free_descriptor</a></li>
  <li><a href="function.oci-free-statement.html">oci_free_statement</a></li>
  <li><a href="function.oci-get-implicit-resultset.html">oci_get_implicit_resultset</a></li>
  <li><a href="function.oci-internal-debug.html">oci_internal_debug</a></li>
  <li><a href="function.oci-lob-copy.html">oci_lob_copy</a></li>
  <li><a href="function.oci-lob-is-equal.html">oci_lob_is_equal</a></li>
  <li><a href="function.oci-new-collection.html">oci_new_collection</a></li>
  <li><a href="function.oci-new-connect.html">oci_new_connect</a></li>
  <li><a href="function.oci-new-cursor.html">oci_new_cursor</a></li>
  <li><a href="function.oci-new-descriptor.html">oci_new_descriptor</a></li>
  <li><a href="function.oci-num-fields.html">oci_num_fields</a></li>
  <li><a href="function.oci-num-rows.html">oci_num_rows</a></li>
  <li><a href="function.oci-parse.html">oci_parse</a></li>
  <li class="active"><a href="function.oci-password-change.html">oci_password_change</a></li>
  <li><a href="function.oci-pconnect.html">oci_pconnect</a></li>
  <li><a href="function.oci-result.html">oci_result</a></li>
  <li><a href="function.oci-rollback.html">oci_rollback</a></li>
  <li><a href="function.oci-server-version.html">oci_server_version</a></li>
  <li><a href="function.oci-set-action.html">oci_set_action</a></li>
  <li><a href="function.oci-set-client-identifier.html">oci_set_client_identifier</a></li>
  <li><a href="function.oci-set-client-info.html">oci_set_client_info</a></li>
  <li><a href="function.oci-set-edition.html">oci_set_edition</a></li>
  <li><a href="function.oci-set-module-name.html">oci_set_module_name</a></li>
  <li><a href="function.oci-set-prefetch.html">oci_set_prefetch</a></li>
  <li><a href="function.oci-statement-type.html">oci_statement_type</a></li>
 </ul>

        </td>
        <td width="85%">
            <div style="text-align: center;">
                <div class="prev" style="text-align: left; float: left;"><a href="function.oci-parse.html">oci_parse</a></div>
                <div class="next" style="text-align: right; float: right;"><a href="function.oci-pconnect.html">oci_pconnect</a></div>
                <div class="up"><a href="ref.oci8.html">OCI8 Functions</a></div>
                <div class="home"><a href="index.html">PHP Manual</a></div>
            </div><hr/>
<div id="function.oci-password-change" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">oci_password_change</h1>
  <p class="refpurpose">Changes password of Oracle&#039;s user</p>
 </div>
 
 <div class="refsect1 description" id="refsect1-function.oci-password-change-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">bool</span> <span class="methodname">oci_password_change</span>
    ( <span class="methodparam"><span class="type">resource</span> <code class="parameter">$connection</code></span>
   , <span class="methodparam"><span class="type">string</span> <code class="parameter">$username</code></span>
   , <span class="methodparam"><span class="type">string</span> <code class="parameter">$old_password</code></span>
   , <span class="methodparam"><span class="type">string</span> <code class="parameter">$new_password</code></span>
   )</div>

   <div class="methodsynopsis dc-description">
    <span class="type">resource</span> <span class="methodname">oci_password_change</span>
     ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$dbname</code></span>
    , <span class="methodparam"><span class="type">string</span> <code class="parameter">$username</code></span>
    , <span class="methodparam"><span class="type">string</span> <code class="parameter">$old_password</code></span>
    , <span class="methodparam"><span class="type">string</span> <code class="parameter">$new_password</code></span>
    )</div>

  <p class="para rdfs-comment">
   Changes password for user with <code class="parameter">username</code>.
  </p>
  <p class="para">
   The <span class="function">oci_password_change</span> function is most useful for PHP command-line scripts,
   or when non-persistent connections are used throughout the PHP application.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.oci-password-change-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">connection</code></dt>

     <dd>

      <p class="para">
       An Oracle connection identifier, returned by 
       <span class="function">oci_connect</span> or <span class="function">oci_pconnect</span>.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">username</code></dt>

     <dd>

      <p class="para">
       The Oracle user name.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">old_password</code></dt>

     <dd>

      <p class="para">
       The old password.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">new_password</code></dt>

     <dd>

      <p class="para">
       The new password to be set.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">dbname</code></dt>

     <dd>

      <p class="para">
       The database name.
      </p>
     </dd>

    
   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.oci-password-change-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   Returns <strong><code>TRUE</code></strong> on success or <strong><code>FALSE</code></strong> on failure.
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.oci-password-change-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   <div class="example" id="example-2264">
    <p><strong>Example #1 <span class="function">oci_password_change</span> example changing the password of an already connected user</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br />$dbase&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'localhost/orcl'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$user&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'cj'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$current_pw&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'welcome'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$new_pw&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'geelong'</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$c&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">oci_pconnect</span><span style="color: #007700">(</span><span style="color: #0000BB">$user</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$current_pw</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$dbase</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">oci_password_change</span><span style="color: #007700">(</span><span style="color: #0000BB">$c</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$user</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$current_pw</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$new_pw</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #DD0000">"New&nbsp;password&nbsp;is&nbsp;:&nbsp;"&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$new_pw&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
  <p class="para">
   <div class="example" id="example-2265">
    <p><strong>Example #2 <span class="function">oci_password_change</span> example of connecting and changing the password in one step</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br />$dbase&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'localhost/orcl'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$user&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'cj'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$current_pw&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'welcome'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$new_pw&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'geelong'</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$c&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">oci_pconnect</span><span style="color: #007700">(</span><span style="color: #0000BB">$user</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$current_pw</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$dbase</span><span style="color: #007700">);<br />if&nbsp;(!</span><span style="color: #0000BB">$c</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$m&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">oci_error</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$m</span><span style="color: #007700">[</span><span style="color: #DD0000">'code'</span><span style="color: #007700">]&nbsp;==&nbsp;</span><span style="color: #0000BB">28001</span><span style="color: #007700">)&nbsp;{&nbsp;</span><span style="color: #FF8000">//&nbsp;"ORA-28001:&nbsp;the&nbsp;password&nbsp;has&nbsp;expired"<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Login&nbsp;and&nbsp;reset&nbsp;password&nbsp;at&nbsp;the&nbsp;same&nbsp;time<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$c&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">oci_password_change</span><span style="color: #007700">(</span><span style="color: #0000BB">$dbase</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$user</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$current_pw</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$new_pw</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$c</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"New&nbsp;password&nbsp;is&nbsp;:&nbsp;"&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$new_pw&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br />if&nbsp;(!</span><span style="color: #0000BB">$c</span><span style="color: #007700">)&nbsp;{&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;The&nbsp;original&nbsp;error&nbsp;wasn't&nbsp;28001,&nbsp;or&nbsp;the&nbsp;password&nbsp;change&nbsp;failed<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$m&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">oci_error</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">trigger_error</span><span style="color: #007700">(</span><span style="color: #DD0000">'Could&nbsp;not&nbsp;connect&nbsp;to&nbsp;database:&nbsp;'</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$m</span><span style="color: #007700">[</span><span style="color: #DD0000">'message'</span><span style="color: #007700">],&nbsp;</span><span style="color: #0000BB">E_USER_ERROR</span><span style="color: #007700">);<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Use&nbsp;the&nbsp;connection&nbsp;$c<br /></span><span style="color: #007700">...<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
 </div>


 <div class="refsect1 notes" id="refsect1-function.oci-password-change-notes">
  <h3 class="title">Notes</h3>
  <blockquote class="note"><p><strong class="note">Note</strong>: 
   <p class="para">
    Changing the password either with this function or directly in
    Oracle should be done carefully.  This is because PHP applications
    may continue to successfully reuse persistent connections by
    authenticating with the old password.  The best practice is to
    restart all web servers whenever the user password is changed.
   </p>
  </p></blockquote>
  <blockquote class="note"><p><strong class="note">Note</strong>: 
   <p class="para">
    If upgrading the Oracle client libraries or the database from a release prior to 11.2.0.3
    to version 11.2.0.3 or higher, <span class="function">oci_password_change</span> may give the
    error &quot;ORA-1017: invalid username/password&quot; unless both client and server versions are upgraded at
    the same time.
   </p>
  </p></blockquote>
  <blockquote class="note"><p><strong class="note">Note</strong>: 
   <p class="para">
    The second <span class="function">oci_password_change</span> syntax is available
    since OCI8 version 1.1.
   </p>
  </p></blockquote>
  <blockquote class="note"><p><strong class="note">Note</strong>: 
   <p class="para">
    In PHP versions before 5.0.0 you must use <span class="function">ocipasswordchange</span> instead.
    This name still can be used, it was left as alias of
    <span class="function">oci_password_change</span> for downwards compatability.
    This, however, is deprecated and not recommended.
   </p>
  </p></blockquote>

 </div>


</div>
        </td>
    </tr>
</table>
</body>
</html>
