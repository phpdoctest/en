<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <title>PHP Manual: Fetch a row as an array</title>

</head>
<body>
<table width="100%">
    <tr valign="top">
        <td style="font-size: smaller;" width="15%">
<style type="text/css">
#leftbar {
	float: left;
	width: 186px;
	padding: 5px;
	font-size: smaller;
}
ul.toc {
	margin: 0px 5px 5px 5px;
	padding: 0px;
}
ul.toc li {
	font-size: 85%;
	margin: 1px 0 1px 1px;
	padding: 1px 0 1px 11px;
	list-style-type: none;
	background-repeat: no-repeat;
	background-position: center left;
}
ul.toc li.header {
	font-size: 115%;
	padding: 5px 0px 5px 11px;
	border-bottom: 1px solid #cccccc;
	margin-bottom: 5px;
}
ul.toc li.active {
	font-weight: bold;
}
ul.toc li a {
	text-decoration: none;
}
ul.toc li a:hover {
	text-decoration: underline;
}
</style>
 <ul class="toc">
  <li class="header home"><a href="index.html">PHP Manual</a></li>
  <li class="header up"><a href="funcref.html">Function Reference</a></li>
  <li class="header up"><a href="refs.database.html">Database Extensions</a></li>
  <li class="header up"><a href="refs.database.vendors.html">Vendor Specific Database Extensions</a></li>
  <li class="header up"><a href="book.pgsql.html">PostgreSQL</a></li>
  <li class="header up"><a href="ref.pgsql.html">PostgreSQL Functions</a></li>
  <li><a href="function.pg-affected-rows.html">pg_affected_rows</a></li>
  <li><a href="function.pg-cancel-query.html">pg_cancel_query</a></li>
  <li><a href="function.pg-client-encoding.html">pg_client_encoding</a></li>
  <li><a href="function.pg-close.html">pg_close</a></li>
  <li><a href="function.pg-connect-poll.html">pg_connect_poll</a></li>
  <li><a href="function.pg-connect.html">pg_connect</a></li>
  <li><a href="function.pg-connection-busy.html">pg_connection_busy</a></li>
  <li><a href="function.pg-connection-reset.html">pg_connection_reset</a></li>
  <li><a href="function.pg-connection-status.html">pg_connection_status</a></li>
  <li><a href="function.pg-consume-input.html">pg_consume_input</a></li>
  <li><a href="function.pg-convert.html">pg_convert</a></li>
  <li><a href="function.pg-copy-from.html">pg_copy_from</a></li>
  <li><a href="function.pg-copy-to.html">pg_copy_to</a></li>
  <li><a href="function.pg-dbname.html">pg_dbname</a></li>
  <li><a href="function.pg-delete.html">pg_delete</a></li>
  <li><a href="function.pg-end-copy.html">pg_end_copy</a></li>
  <li><a href="function.pg-escape-bytea.html">pg_escape_bytea</a></li>
  <li><a href="function.pg-escape-identifier.html">pg_escape_identifier</a></li>
  <li><a href="function.pg-escape-literal.html">pg_escape_literal</a></li>
  <li><a href="function.pg-escape-string.html">pg_escape_string</a></li>
  <li><a href="function.pg-execute.html">pg_execute</a></li>
  <li><a href="function.pg-fetch-all-columns.html">pg_fetch_all_columns</a></li>
  <li><a href="function.pg-fetch-all.html">pg_fetch_all</a></li>
  <li class="active"><a href="function.pg-fetch-array.html">pg_fetch_array</a></li>
  <li><a href="function.pg-fetch-assoc.html">pg_fetch_assoc</a></li>
  <li><a href="function.pg-fetch-object.html">pg_fetch_object</a></li>
  <li><a href="function.pg-fetch-result.html">pg_fetch_result</a></li>
  <li><a href="function.pg-fetch-row.html">pg_fetch_row</a></li>
  <li><a href="function.pg-field-is-null.html">pg_field_is_null</a></li>
  <li><a href="function.pg-field-name.html">pg_field_name</a></li>
  <li><a href="function.pg-field-num.html">pg_field_num</a></li>
  <li><a href="function.pg-field-prtlen.html">pg_field_prtlen</a></li>
  <li><a href="function.pg-field-size.html">pg_field_size</a></li>
  <li><a href="function.pg-field-table.html">pg_field_table</a></li>
  <li><a href="function.pg-field-type-oid.html">pg_field_type_oid</a></li>
  <li><a href="function.pg-field-type.html">pg_field_type</a></li>
  <li><a href="function.pg-flush.html">pg_flush</a></li>
  <li><a href="function.pg-free-result.html">pg_free_result</a></li>
  <li><a href="function.pg-get-notify.html">pg_get_notify</a></li>
  <li><a href="function.pg-get-pid.html">pg_get_pid</a></li>
  <li><a href="function.pg-get-result.html">pg_get_result</a></li>
  <li><a href="function.pg-host.html">pg_host</a></li>
  <li><a href="function.pg-insert.html">pg_insert</a></li>
  <li><a href="function.pg-last-error.html">pg_last_error</a></li>
  <li><a href="function.pg-last-notice.html">pg_last_notice</a></li>
  <li><a href="function.pg-last-oid.html">pg_last_oid</a></li>
  <li><a href="function.pg-lo-close.html">pg_lo_close</a></li>
  <li><a href="function.pg-lo-create.html">pg_lo_create</a></li>
  <li><a href="function.pg-lo-export.html">pg_lo_export</a></li>
  <li><a href="function.pg-lo-import.html">pg_lo_import</a></li>
  <li><a href="function.pg-lo-open.html">pg_lo_open</a></li>
  <li><a href="function.pg-lo-read-all.html">pg_lo_read_all</a></li>
  <li><a href="function.pg-lo-read.html">pg_lo_read</a></li>
  <li><a href="function.pg-lo-seek.html">pg_lo_seek</a></li>
  <li><a href="function.pg-lo-tell.html">pg_lo_tell</a></li>
  <li><a href="function.pg-lo-truncate.html">pg_lo_truncate</a></li>
  <li><a href="function.pg-lo-unlink.html">pg_lo_unlink</a></li>
  <li><a href="function.pg-lo-write.html">pg_lo_write</a></li>
  <li><a href="function.pg-meta-data.html">pg_meta_data</a></li>
  <li><a href="function.pg-num-fields.html">pg_num_fields</a></li>
  <li><a href="function.pg-num-rows.html">pg_num_rows</a></li>
  <li><a href="function.pg-options.html">pg_options</a></li>
  <li><a href="function.pg-parameter-status.html">pg_parameter_status</a></li>
  <li><a href="function.pg-pconnect.html">pg_pconnect</a></li>
  <li><a href="function.pg-ping.html">pg_ping</a></li>
  <li><a href="function.pg-port.html">pg_port</a></li>
  <li><a href="function.pg-prepare.html">pg_prepare</a></li>
  <li><a href="function.pg-put-line.html">pg_put_line</a></li>
  <li><a href="function.pg-query-params.html">pg_query_params</a></li>
  <li><a href="function.pg-query.html">pg_query</a></li>
  <li><a href="function.pg-result-error-field.html">pg_result_error_field</a></li>
  <li><a href="function.pg-result-error.html">pg_result_error</a></li>
  <li><a href="function.pg-result-seek.html">pg_result_seek</a></li>
  <li><a href="function.pg-result-status.html">pg_result_status</a></li>
  <li><a href="function.pg-select.html">pg_select</a></li>
  <li><a href="function.pg-send-execute.html">pg_send_execute</a></li>
  <li><a href="function.pg-send-prepare.html">pg_send_prepare</a></li>
  <li><a href="function.pg-send-query-params.html">pg_send_query_params</a></li>
  <li><a href="function.pg-send-query.html">pg_send_query</a></li>
  <li><a href="function.pg-set-client-encoding.html">pg_set_client_encoding</a></li>
  <li><a href="function.pg-set-error-verbosity.html">pg_set_error_verbosity</a></li>
  <li><a href="function.pg-socket.html">pg_socket</a></li>
  <li><a href="function.pg-trace.html">pg_trace</a></li>
  <li><a href="function.pg-transaction-status.html">pg_transaction_status</a></li>
  <li><a href="function.pg-tty.html">pg_tty</a></li>
  <li><a href="function.pg-unescape-bytea.html">pg_unescape_bytea</a></li>
  <li><a href="function.pg-untrace.html">pg_untrace</a></li>
  <li><a href="function.pg-update.html">pg_update</a></li>
  <li><a href="function.pg-version.html">pg_version</a></li>
 </ul>

        </td>
        <td width="85%">
            <div style="text-align: center;">
                <div class="prev" style="text-align: left; float: left;"><a href="function.pg-fetch-all.html">pg_fetch_all</a></div>
                <div class="next" style="text-align: right; float: right;"><a href="function.pg-fetch-assoc.html">pg_fetch_assoc</a></div>
                <div class="up"><a href="ref.pgsql.html">PostgreSQL Functions</a></div>
                <div class="home"><a href="index.html">PHP Manual</a></div>
            </div><hr/>
<div id="function.pg-fetch-array" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">pg_fetch_array</h1>
  <p class="refpurpose">Fetch a row as an array</p>
 </div>

 <div class="refsect1 description" id="refsect1-function.pg-fetch-array-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">array</span> <span class="methodname">pg_fetch_array</span>
    ( <span class="methodparam"><span class="type">resource</span> <code class="parameter">$result</code></span>
   [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$row</code></span>
   [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$result_type</code><span class="initializer"> = PGSQL_BOTH</span></span>
  ]] )</div>

  <p class="para rdfs-comment">
   <span class="function">pg_fetch_array</span> returns an array that
   corresponds to the fetched row (record).
  </p>
  <p class="para">
   <span class="function">pg_fetch_array</span> is an extended version of
   <span class="function">pg_fetch_row</span>.  In addition to storing the
   data in the numeric indices (field number) to the result array, it
   can also store the data using associative indices (field name).
   It stores both indicies by default.
  </p>
  <blockquote class="note"><p><strong class="note">Note</strong>: <span class="simpara">This function sets NULL fields to
the PHP <strong><code>NULL</code></strong> value.</span></p></blockquote>
  <p class="para">
   <span class="function">pg_fetch_array</span> is NOT significantly
   slower than using <span class="function">pg_fetch_row</span>, and
   is significantly easier to use.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.pg-fetch-array-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">result</code></dt>

     <dd>

      <p class="para">
       PostgreSQL query result resource, returned by <span class="function">pg_query</span>,
       <span class="function">pg_query_params</span> or <span class="function">pg_execute</span>
       (among others).
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">row</code></dt>

     <dd>

      <p class="para">
       Row number in result to fetch. Rows are numbered from 0 upwards. If
       omitted or <strong><code>NULL</code></strong>, the next row is fetched.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">result_type</code></dt>

     <dd>

      <p class="para">
       An optional parameter that controls
       how the returned <span class="type">array</span> is indexed.
       <code class="parameter">result_type</code> is a constant and can take the
       following values: <strong><code>PGSQL_ASSOC</code></strong>, 
       <strong><code>PGSQL_NUM</code></strong> and <strong><code>PGSQL_BOTH</code></strong>.
       Using <strong><code>PGSQL_NUM</code></strong>, <span class="function">pg_fetch_array</span>
       will return an array with numerical indices, using
       <strong><code>PGSQL_ASSOC</code></strong> it will return only associative indices
       while <strong><code>PGSQL_BOTH</code></strong>, the default, will return both
       numerical and associative indices.
      </p>
     </dd>

    
   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.pg-fetch-array-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   An <span class="type">array</span> indexed numerically (beginning with 0) or
   associatively (indexed by field name), or both.
   Each value in the <span class="type">array</span> is represented as a 
   <span class="type">string</span>.  Database <em>NULL</em>
   values are returned as <strong><code>NULL</code></strong>.
  </p>
  <p class="para">
   <strong><code>FALSE</code></strong> is returned if <code class="parameter">row</code> exceeds the number
   of rows in the set, there are no more rows, or on any other error.
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.pg-fetch-array-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   <div class="example" id="example-2308">
    <p><strong>Example #1 <span class="function">pg_fetch_array</span> example</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php&nbsp;<br /><br />$conn&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">pg_pconnect</span><span style="color: #007700">(</span><span style="color: #DD0000">"dbname=publisher"</span><span style="color: #007700">);<br />if&nbsp;(!</span><span style="color: #0000BB">$conn</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"An&nbsp;error&nbsp;occurred.\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;exit;<br />}<br /><br /></span><span style="color: #0000BB">$result&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">pg_query</span><span style="color: #007700">(</span><span style="color: #0000BB">$conn</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"SELECT&nbsp;author,&nbsp;email&nbsp;FROM&nbsp;authors"</span><span style="color: #007700">);<br />if&nbsp;(!</span><span style="color: #0000BB">$result</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"An&nbsp;error&nbsp;occurred.\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;exit;<br />}<br /><br /></span><span style="color: #0000BB">$arr&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">pg_fetch_array</span><span style="color: #007700">(</span><span style="color: #0000BB">$result</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">PGSQL_NUM</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #0000BB">$arr</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">]&nbsp;.&nbsp;</span><span style="color: #DD0000">"&nbsp;&lt;-&nbsp;Row&nbsp;1&nbsp;Author\n"</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #0000BB">$arr</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">]&nbsp;.&nbsp;</span><span style="color: #DD0000">"&nbsp;&lt;-&nbsp;Row&nbsp;1&nbsp;E-mail\n"</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">//&nbsp;The&nbsp;row&nbsp;parameter&nbsp;is&nbsp;optional;&nbsp;NULL&nbsp;can&nbsp;be&nbsp;passed&nbsp;instead,<br />//&nbsp;to&nbsp;pass&nbsp;a&nbsp;result_type.&nbsp;&nbsp;Successive&nbsp;calls&nbsp;to&nbsp;pg_fetch_array<br />//&nbsp;will&nbsp;return&nbsp;the&nbsp;next&nbsp;row.<br /></span><span style="color: #0000BB">$arr&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">pg_fetch_array</span><span style="color: #007700">(</span><span style="color: #0000BB">$result</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">NULL</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">PGSQL_ASSOC</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #0000BB">$arr</span><span style="color: #007700">[</span><span style="color: #DD0000">"author"</span><span style="color: #007700">]&nbsp;.&nbsp;</span><span style="color: #DD0000">"&nbsp;&lt;-&nbsp;Row&nbsp;2&nbsp;Author\n"</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #0000BB">$arr</span><span style="color: #007700">[</span><span style="color: #DD0000">"email"</span><span style="color: #007700">]&nbsp;.&nbsp;</span><span style="color: #DD0000">"&nbsp;&lt;-&nbsp;Row&nbsp;2&nbsp;E-mail\n"</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$arr&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">pg_fetch_array</span><span style="color: #007700">(</span><span style="color: #0000BB">$result</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #0000BB">$arr</span><span style="color: #007700">[</span><span style="color: #DD0000">"author"</span><span style="color: #007700">]&nbsp;.&nbsp;</span><span style="color: #DD0000">"&nbsp;&lt;-&nbsp;Row&nbsp;3&nbsp;Author\n"</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #0000BB">$arr</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">]&nbsp;.&nbsp;</span><span style="color: #DD0000">"&nbsp;&lt;-&nbsp;Row&nbsp;3&nbsp;E-mail\n"</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.pg-fetch-array-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function">pg_fetch_row</span></li>
    <li class="member"><span class="function">pg_fetch_object</span></li>
    <li class="member"><span class="function">pg_fetch_result</span></li>
   </ul>
  </p>
 </div>


</div>
        </td>
    </tr>
</table>
</body>
</html>
