<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <title>PHP Manual: Sets a user-defined exception handler function</title>

</head>
<body>
<table width="100%">
    <tr valign="top">
        <td style="font-size: smaller;" width="15%">
<style type="text/css">
#leftbar {
	float: left;
	width: 186px;
	padding: 5px;
	font-size: smaller;
}
ul.toc {
	margin: 0px 5px 5px 5px;
	padding: 0px;
}
ul.toc li {
	font-size: 85%;
	margin: 1px 0 1px 1px;
	padding: 1px 0 1px 11px;
	list-style-type: none;
	background-repeat: no-repeat;
	background-position: center left;
}
ul.toc li.header {
	font-size: 115%;
	padding: 5px 0px 5px 11px;
	border-bottom: 1px solid #cccccc;
	margin-bottom: 5px;
}
ul.toc li.active {
	font-weight: bold;
}
ul.toc li a {
	text-decoration: none;
}
ul.toc li a:hover {
	text-decoration: underline;
}
</style>
 <ul class="toc">
  <li class="header home"><a href="index.html">PHP Manual</a></li>
  <li class="header up"><a href="funcref.html">Function Reference</a></li>
  <li class="header up"><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></li>
  <li class="header up"><a href="book.errorfunc.html">Error Handling</a></li>
  <li class="header up"><a href="ref.errorfunc.html">Error Handling Functions</a></li>
  <li><a href="function.debug-backtrace.html">debug_backtrace</a></li>
  <li><a href="function.debug-print-backtrace.html">debug_print_backtrace</a></li>
  <li><a href="function.error-clear-last.html">error_clear_last</a></li>
  <li><a href="function.error-get-last.html">error_get_last</a></li>
  <li><a href="function.error-log.html">error_log</a></li>
  <li><a href="function.error-reporting.html">error_reporting</a></li>
  <li><a href="function.restore-error-handler.html">restore_error_handler</a></li>
  <li><a href="function.restore-exception-handler.html">restore_exception_handler</a></li>
  <li><a href="function.set-error-handler.html">set_error_handler</a></li>
  <li class="active"><a href="function.set-exception-handler.html">set_exception_handler</a></li>
  <li><a href="function.trigger-error.html">trigger_error</a></li>
  <li><a href="function.user-error.html">user_error</a></li>
 </ul>

        </td>
        <td width="85%">
            <div style="text-align: center;">
                <div class="prev" style="text-align: left; float: left;"><a href="function.set-error-handler.html">set_error_handler</a></div>
                <div class="next" style="text-align: right; float: right;"><a href="function.trigger-error.html">trigger_error</a></div>
                <div class="up"><a href="ref.errorfunc.html">Error Handling Functions</a></div>
                <div class="home"><a href="index.html">PHP Manual</a></div>
            </div><hr/>
<div id="function.set-exception-handler" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">set_exception_handler</h1>
  <p class="refpurpose">
   Sets a user-defined exception handler function 
  </p>
 </div>

 <div class="refsect1 description" id="refsect1-function.set-exception-handler-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">callable</span> <span class="methodname">set_exception_handler</span>
    ( <span class="methodparam"><span class="type">callable</span> <code class="parameter">$exception_handler</code></span>
   )</div>

  <p class="para rdfs-comment">
   Sets the default exception handler if an exception is not caught within a
   try/catch block. Execution will stop after the
   <code class="parameter">exception_handler</code> is called.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.set-exception-handler-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">exception_handler</code></dt>

     <dd>

      <p class="para">
       Name of the function to be called when an uncaught exception occurs.
       This handler function
       needs to accept one parameter, which will be the exception object that
       was thrown. This is the handler signature before PHP 7:
      </p>
      <p class="para">
       <div class="methodsynopsis dc-description">
        <span class="type">void</span> <span class="methodname"><span class="replaceable">handler</span></span>
         ( <span class="methodparam"><span class="type">Exception</span> <code class="parameter">$ex</code></span>
        )</div>

      </p>
      <p class="para">
       Since PHP 7, most errors are reported by throwing <span class="classname">Error</span>
       exceptions, which will be caught by the handler as well. Both <span class="classname">Error</span>
       and <span class="classname">Exception</span> implements the <span class="classname">Throwable</span> interface.
       This is the handler signature since PHP 7:
      </p>
      <p class="para">
       <div class="methodsynopsis dc-description">
        <span class="type">void</span> <span class="methodname"><span class="replaceable">handler</span></span>
         ( <span class="methodparam"><span class="type">Throwable</span> <code class="parameter">$ex</code></span>
        )</div>

      </p>
      <p class="para">
       <strong><code>NULL</code></strong> may be passed instead, to reset this handler to its default state.
      </p>
      <div class="caution"><strong class="caution">Caution</strong>
       <p class="para">
        Note that providing an explicit <span class="classname">Exception</span> type
        hint for the <code class="parameter">ex</code> parameter in your callback will
        cause issues with the changed exception hierarchy in PHP 7.
       </p>
      </div>
     </dd>

    
   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.set-exception-handler-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   Returns the name of the previously defined exception handler, or <strong><code>NULL</code></strong> on error. If
   no previous handler was defined, <strong><code>NULL</code></strong> is also returned.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.set-exception-handler-changelog">
  <h3 class="title">Changelog</h3>
  <p class="para">
   <table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>Version</th>
       <th>Description</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>7.0.0</td>
       <td>
        The type of parameter passed into <code class="parameter">exception_handler</code> changed
        from <span class="classname">Exception</span> to <span class="classname">Throwable</span>
       </td>
      </tr>

      <tr>
       <td>5.5.0</td>
       <td>
        Previously, if <strong><code>NULL</code></strong> was passed then this function returned <strong><code>TRUE</code></strong>.
        It returns the previous handler since PHP 5.5.0.
       </td>
      </tr>

     </tbody>
    
   </table>

  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.set-exception-handler-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   <div class="example" id="example-497">
    <p><strong>Example #1 <span class="function">set_exception_handler</span> example</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">exception_handler</span><span style="color: #007700">(</span><span style="color: #0000BB">$exception</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"Uncaught&nbsp;exception:&nbsp;"&nbsp;</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$exception</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getMessage</span><span style="color: #007700">(),&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #0000BB">set_exception_handler</span><span style="color: #007700">(</span><span style="color: #DD0000">'exception_handler'</span><span style="color: #007700">);<br /><br />throw&nbsp;new&nbsp;</span><span style="color: #0000BB">Exception</span><span style="color: #007700">(</span><span style="color: #DD0000">'Uncaught&nbsp;Exception'</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #DD0000">"Not&nbsp;Executed\n"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.set-exception-handler-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function">restore_exception_handler</span></li>
    <li class="member"><span class="function">restore_error_handler</span></li>
    <li class="member"><span class="function">error_reporting</span></li>
    <li class="member">information about the <a href="language.pseudo-types.html#language.types.callback" class="link">callback</a> type</li>
    <li class="member"><a href="language.exceptions.html" class="link">PHP 5 Exceptions</a></li>
   </ul>
  </p>
 </div>


</div>
        </td>
    </tr>
</table>
</body>
</html>
