<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <title>PHP Manual: Refreshes the cache entries for the cached files</title>

</head>
<body>
<table width="100%">
    <tr valign="top">
        <td style="font-size: smaller;" width="15%">
<style type="text/css">
#leftbar {
	float: left;
	width: 186px;
	padding: 5px;
	font-size: smaller;
}
ul.toc {
	margin: 0px 5px 5px 5px;
	padding: 0px;
}
ul.toc li {
	font-size: 85%;
	margin: 1px 0 1px 1px;
	padding: 1px 0 1px 11px;
	list-style-type: none;
	background-repeat: no-repeat;
	background-position: center left;
}
ul.toc li.header {
	font-size: 115%;
	padding: 5px 0px 5px 11px;
	border-bottom: 1px solid #cccccc;
	margin-bottom: 5px;
}
ul.toc li.active {
	font-weight: bold;
}
ul.toc li a {
	text-decoration: none;
}
ul.toc li a:hover {
	text-decoration: underline;
}
</style>
 <ul class="toc">
  <li class="header home"><a href="index.html">PHP Manual</a></li>
  <li class="header up"><a href="funcref.html">Function Reference</a></li>
  <li class="header up"><a href="refs.basic.php.html">Affecting PHP's Behaviour</a></li>
  <li class="header up"><a href="book.wincache.html">WinCache</a></li>
  <li class="header up"><a href="ref.wincache.html">WinCache Functions</a></li>
  <li><a href="function.wincache-fcache-fileinfo.html">wincache_fcache_fileinfo</a></li>
  <li><a href="function.wincache-fcache-meminfo.html">wincache_fcache_meminfo</a></li>
  <li><a href="function.wincache-lock.html">wincache_lock</a></li>
  <li><a href="function.wincache-ocache-fileinfo.html">wincache_ocache_fileinfo</a></li>
  <li><a href="function.wincache-ocache-meminfo.html">wincache_ocache_meminfo</a></li>
  <li class="active"><a href="function.wincache-refresh-if-changed.html">wincache_refresh_if_changed</a></li>
  <li><a href="function.wincache-rplist-fileinfo.html">wincache_rplist_fileinfo</a></li>
  <li><a href="function.wincache-rplist-meminfo.html">wincache_rplist_meminfo</a></li>
  <li><a href="function.wincache-scache-info.html">wincache_scache_info</a></li>
  <li><a href="function.wincache-scache-meminfo.html">wincache_scache_meminfo</a></li>
  <li><a href="function.wincache-ucache-add.html">wincache_ucache_add</a></li>
  <li><a href="function.wincache-ucache-cas.html">wincache_ucache_cas</a></li>
  <li><a href="function.wincache-ucache-clear.html">wincache_ucache_clear</a></li>
  <li><a href="function.wincache-ucache-dec.html">wincache_ucache_dec</a></li>
  <li><a href="function.wincache-ucache-delete.html">wincache_ucache_delete</a></li>
  <li><a href="function.wincache-ucache-exists.html">wincache_ucache_exists</a></li>
  <li><a href="function.wincache-ucache-get.html">wincache_ucache_get</a></li>
  <li><a href="function.wincache-ucache-inc.html">wincache_ucache_inc</a></li>
  <li><a href="function.wincache-ucache-info.html">wincache_ucache_info</a></li>
  <li><a href="function.wincache-ucache-meminfo.html">wincache_ucache_meminfo</a></li>
  <li><a href="function.wincache-ucache-set.html">wincache_ucache_set</a></li>
  <li><a href="function.wincache-unlock.html">wincache_unlock</a></li>
 </ul>

        </td>
        <td width="85%">
            <div style="text-align: center;">
                <div class="prev" style="text-align: left; float: left;"><a href="function.wincache-ocache-meminfo.html">wincache_ocache_meminfo</a></div>
                <div class="next" style="text-align: right; float: right;"><a href="function.wincache-rplist-fileinfo.html">wincache_rplist_fileinfo</a></div>
                <div class="up"><a href="ref.wincache.html">WinCache Functions</a></div>
                <div class="home"><a href="index.html">PHP Manual</a></div>
            </div><hr/>
<div id="function.wincache-refresh-if-changed" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">wincache_refresh_if_changed</h1>
  <p class="refpurpose">
   Refreshes the cache entries for the cached files
  </p>
 </div>
 <div class="refsect1 description" id="refsect1-function.wincache-refresh-if-changed-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="type">bool</span> <span class="methodname">wincache_refresh_if_changed</span>
    ([ <span class="methodparam"><span class="type">array</span> <code class="parameter">$files</code><span class="initializer"> = NULL</span></span>
  ] )</div>

  <p class="para rdfs-comment">
   Refreshes the cache entries for the files, whose names were passed in the input argument. 
   If no argument is specified then refreshes all the entries in the cache.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-function.wincache-refresh-if-changed-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">files</code></dt>

     <dd>

      <p class="para">
       An array of file names for files that need to be refreshed. 
       An absolute or relative file paths can be used.
      </p>
     </dd>

    
   </dl>

  </p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-function.wincache-refresh-if-changed-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   Returns <strong><code>TRUE</code></strong> on success or <strong><code>FALSE</code></strong> on failure.
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.wincache-refresh-if-changed-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   WinCache performs regular checks on the cached files to 
   ensure that if any file has changed then the corresponding entry in the cache is 
   updated. By default this check is performed every 30 seconds. If, for example, 
   a PHP script updates another PHP script where the application&#039;s 
   configuration settings are stored, then it may happen that after the 
   configuration settings have been saved to a file, the application is still using 
   old settings for some time until the cache is refreshed. In those cases it may be 
   preferrable to refresh the cache right after the file has been changed. The 
   following example shows how this can be done.
   <div class="example" id="example-627">
    <p><strong>Example #1 A <span class="function">wincache_refresh_if_changed</span> example</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php&nbsp;<br />$filename&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'C:\inetpub\wwwroot\config.php'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$handle&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">fopen</span><span style="color: #007700">(</span><span style="color: #0000BB">$filename</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'w+'</span><span style="color: #007700">);<br />if&nbsp;(</span><span style="color: #0000BB">$handle&nbsp;</span><span style="color: #007700">===&nbsp;</span><span style="color: #0000BB">FALSE</span><span style="color: #007700">)&nbsp;die(</span><span style="color: #DD0000">'Failed&nbsp;to&nbsp;open&nbsp;file&nbsp;'</span><span style="color: #007700">.</span><span style="color: #0000BB">$filename</span><span style="color: #007700">.</span><span style="color: #DD0000">'&nbsp;for&nbsp;writing'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">fwrite</span><span style="color: #007700">(</span><span style="color: #0000BB">$handle</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'&lt;?php&nbsp;$setting=something;&nbsp;?&gt;'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">fclose</span><span style="color: #007700">(</span><span style="color: #0000BB">$handle</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">wincache_refresh_if_changed</span><span style="color: #007700">(array(</span><span style="color: #0000BB">$filename</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
 </div>


  <div class="refsect1 seealso" id="refsect1-function.wincache-refresh-if-changed-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function">wincache_fcache_fileinfo</span></li>
    <li class="member"><span class="function">wincache_fcache_meminfo</span></li>
    <li class="member"><span class="function">wincache_ocache_fileinfo</span></li>
    <li class="member"><span class="function">wincache_ocache_meminfo</span></li>
    <li class="member"><span class="function">wincache_rplist_fileinfo</span></li>
    <li class="member"><span class="function">wincache_rplist_meminfo</span></li>
    <li class="member"><span class="function">wincache_ucache_meminfo</span></li>
    <li class="member"><span class="function">wincache_ucache_info</span></li>
   </ul>
  </p>
 </div>

 
</div>
        </td>
    </tr>
</table>
</body>
</html>
