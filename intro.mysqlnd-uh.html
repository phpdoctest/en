<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <title>PHP Manual: Introduction</title>

</head>
<body>
<table width="100%">
    <tr valign="top">
        <td style="font-size: smaller;" width="15%">
<style type="text/css">
#leftbar {
	float: left;
	width: 186px;
	padding: 5px;
	font-size: smaller;
}
ul.toc {
	margin: 0px 5px 5px 5px;
	padding: 0px;
}
ul.toc li {
	font-size: 85%;
	margin: 1px 0 1px 1px;
	padding: 1px 0 1px 11px;
	list-style-type: none;
	background-repeat: no-repeat;
	background-position: center left;
}
ul.toc li.header {
	font-size: 115%;
	padding: 5px 0px 5px 11px;
	border-bottom: 1px solid #cccccc;
	margin-bottom: 5px;
}
ul.toc li.active {
	font-weight: bold;
}
ul.toc li a {
	text-decoration: none;
}
ul.toc li a:hover {
	text-decoration: underline;
}
</style>
 <ul class="toc">
  <li class="header home"><a href="index.html">PHP Manual</a></li>
  <li class="header up"><a href="funcref.html">Function Reference</a></li>
  <li class="header up"><a href="refs.database.html">Database Extensions</a></li>
  <li class="header up"><a href="refs.database.vendors.html">Vendor Specific Database Extensions</a></li>
  <li class="header up"><a href="set.mysqlinfo.html">MySQL</a></li>
  <li class="header up"><a href="book.mysqlnd-uh.html">mysqlnd_uh</a></li>
  <li class="active"><a href="intro.mysqlnd-uh.html">Introduction</a></li>
  <li><a href="mysqlnd-uh.quickstart.html">Quickstart and Examples</a></li>
  <li><a href="mysqlnd-uh.setup.html">Installing/Configuring</a></li>
  <li><a href="mysqlnd-uh.constants.html">Predefined Constants</a></li>
  <li><a href="class.mysqlnduhconnection.html">MysqlndUhConnection</a></li>
  <li><a href="class.mysqlnduhpreparedstatement.html">MysqlndUhPreparedStatement</a></li>
  <li><a href="ref.mysqlnd-uh.html">Mysqlnd_uh Functions</a></li>
  <li><a href="mysqlnd-uh.changes.html">Change History</a></li>
 </ul>

        </td>
        <td width="85%">
            <div style="text-align: center;">
                <div class="prev" style="text-align: left; float: left;"><a href="book.mysqlnd-uh.html">mysqlnd_uh</a></div>
                <div class="next" style="text-align: right; float: right;"><a href="mysqlnd-uh.quickstart.html">Quickstart and Examples</a></div>
                <div class="up"><a href="book.mysqlnd-uh.html">mysqlnd_uh</a></div>
                <div class="home"><a href="index.html">PHP Manual</a></div>
            </div><hr/>
<div id="intro.mysqlnd-uh" class="preface">
  <h1 class="title">Introduction</h1>
  <p class="para">
   The mysqlnd user handler plugin (<em>mysqlnd_uh</em>)
   allows users to set hooks for most internal calls of the
   MySQL native driver for PHP
   (<em><a href="book.mysqlnd.html" class="link">mysqlnd</a></em>).
   Mysqlnd and its plugins, including PECL/mysqlnd_uh, operate on a layer
   beneath the PHP MySQL extensions. A mysqlnd plugin can be considered
   as a proxy between the PHP MySQL extensions and the MySQL server
   as part of the PHP executable on the client-side. Because the plugins
   operates on their own layer below the PHP MySQL extensions,
   they can monitor and change application actions without requiring
   application changes. If the
   PHP MySQL extensions (<a href="ref.mysqli.html" class="link">mysqli</a>,
   <a href="ref.mysql.html" class="link">mysql</a>,
   <a href="ref.pdo-mysql.html" class="link">PDO_MYSQL</a>) are compiled to
   use <em>mysqlnd</em> this can be used for:
   <ul class="itemizedlist">
    <li class="listitem">
     <p class="para">
      Monitoring
     </p>
     <p class="para">
      <ul class="itemizedlist">
       <li class="listitem">
        <p class="para">
         Queries executed by any of the PHP MySQL extensions
        </p>
       </li>
       <li class="listitem">
        <p class="para">
         Prepared statements executing by any of the PHP MySQL extensions
        </p>
       </li>
      </ul>
     </p>
    </li>
    <li class="listitem">
     <p class="para">
      Auditing
     </p>
     <p class="para">
      <ul class="itemizedlist">
       <li class="listitem">
        <p class="para">
         Detection of database usage
        </p>
       </li>
       <li class="listitem">
        <p class="para">
         SQL injection protection using black and white lists
        </p>
       </li>
      </ul>
     </p>
    </li>
    <li class="listitem">
     <p class="para">
      Assorted
     </p>
     <p class="para">
      <ul class="itemizedlist">
       <li class="listitem">
        <p class="para">
         Load Balancing connections
        </p>
       </li>
      </ul>
     </p>
    </li>
   </ul>
  </p>
  <p class="para">
   The MySQL native driver for PHP (<a href="book.mysqlnd.html" class="link">mysqlnd</a>)
   features an internal plugin C API. C plugins, such as the mysqlnd
   user handler plugin, can extend the functionality of
   <a href="book.mysqlnd.html" class="link">mysqlnd</a>. PECL/mysqlnd_uh
   makes parts of the internal plugin C API available to the
   PHP user for plugin development with PHP.
  </p>
  <blockquote class="note"><p><strong class="note">Note</strong>: 
   <strong>Status</strong><br />
   <p class="para">
    The mysqlnd user handler plugin is in alpha status.
    Take appropriate care before using it in production environments.
   </p>
  </p></blockquote>

  <div class="section" id="mysqlnd-uh.security">
   <h2 class="title">Security considerations</h2>
   <p class="para">
    PECL/mysqlnd_uh gives users access to MySQL user names, MySQL password
    used by any of the PHP MySQL extensions to connect to MySQL.
    It allows monitoring of all queries and prepared statements exposing
    the statement string to the user. Therefore, the extension should be
    installed with care. The <em>PHP_INI_SYSTEM</em> configuration setting
    <em><a href="mysqlnd-uh.configuration.html#ini.mysqlnd-uh.enable" class="link">mysqlnd_uh.enable</a></em>
    can be used to prevent users from hooking mysqlnd calls.
   </p>
   <p class="para">
    Code obfuscators and similar technologies are not suitable to prevent
    monitoring of mysqlnd library activities if PECL/mysqlnd_uh is made
    available and the user can install a proxy, for example,
    using <a href="ini.core.html#ini.auto-prepend-file" class="link">auto_prepend_file</a>.
   </p>
  </div>

  <div class="section" id="mysqlnd-uh.docs-note">
   <h2 class="title">Documentation note</h2>
   <p class="para">
    Many of the mysqlnd_uh functions are briefly described because
    the <a href="ref.mysqli.html" class="link">mysqli</a> extension is
    a thin abstraction layer on top of the MySQL C API that
    the <em>mysqlnd</em> library provides. Therefore,
    the corresponding <a href="ref.mysqli.html" class="link">mysqli</a> documentation
    (along with the MySQL reference manual) can be consulted
    to receive more information about a particular function.
   </p>
  </div>

  <div class="section" id="mysqlnd-uh.name">
   <h2 class="title">On the name</h2>
   <p class="para">
    The shortcut <em>mysqlnd_uh</em> stands for
    <em>mysqlnd user handler</em>, and has been the name
    since early development.
   </p>
  </div>
 </div>
        </td>
    </tr>
</table>
</body>
</html>
