<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <title>PHP Manual: Types</title>

</head>
<body>
<table width="100%">
    <tr valign="top">
        <td style="font-size: smaller;" width="15%">
<style type="text/css">
#leftbar {
	float: left;
	width: 186px;
	padding: 5px;
	font-size: smaller;
}
ul.toc {
	margin: 0px 5px 5px 5px;
	padding: 0px;
}
ul.toc li {
	font-size: 85%;
	margin: 1px 0 1px 1px;
	padding: 1px 0 1px 11px;
	list-style-type: none;
	background-repeat: no-repeat;
	background-position: center left;
}
ul.toc li.header {
	font-size: 115%;
	padding: 5px 0px 5px 11px;
	border-bottom: 1px solid #cccccc;
	margin-bottom: 5px;
}
ul.toc li.active {
	font-weight: bold;
}
ul.toc li a {
	text-decoration: none;
}
ul.toc li a:hover {
	text-decoration: underline;
}
</style>
 <ul class="toc">
  <li class="header home"><a href="index.html">PHP Manual</a></li>
  <li class="header up"><a href="funcref.html">Function Reference</a></li>
  <li class="header up"><a href="refs.database.html">Database Extensions</a></li>
  <li class="header up"><a href="refs.database.vendors.html">Vendor Specific Database Extensions</a></li>
  <li class="header up"><a href="book.mongo.html">Mongo</a></li>
  <li><a href="mongo.setup.html">Installing/Configuring</a></li>
  <li><a href="mongo.constants.html">Predefined Constants</a></li>
  <li><a href="mongo.manual.html">Manual</a></li>
  <li><a href="mongo.core.html">Core Classes</a></li>
  <li class="active"><a href="mongo.types.html">Types</a></li>
  <li><a href="mongo.gridfs.html">GridFS Classes</a></li>
  <li><a href="mongo.batch.html">Batch Classes</a></li>
  <li><a href="mongo.miscellaneous.html">Miscellaneous</a></li>
  <li><a href="ref.mongo.html">Mongo Functions</a></li>
  <li><a href="mongo.exceptions.html">Exceptions</a></li>
  <li><a href="changelog.mongo.html">Changelog</a></li>
 </ul>

        </td>
        <td width="85%">
            <div style="text-align: center;">
                <div class="prev" style="text-align: left; float: left;"><a href="mongocommandcursor.valid.html">MongoCommandCursor::valid</a></div>
                <div class="next" style="text-align: right; float: right;"><a href="class.mongoid.html">MongoId</a></div>
                <div class="up"><a href="book.mongo.html">Mongo</a></div>
                <div class="home"><a href="index.html">PHP Manual</a></div>
            </div><hr/>
<div id="mongo.types" class="part">

 <h1>Types</h1><strong>Table of Contents</strong><ul class="chunklist chunklist_title">
<li><a href="class.mongoid.html">MongoId</a> — The MongoId class<ul class="chunklist chunklist_title">
<li><a href="mongoid.construct.html">MongoId::__construct</a> — Creates a new id</li>
<li><a href="mongoid.gethostname.html">MongoId::getHostname</a> — Gets the hostname being used for this machine's ids</li>
<li><a href="mongoid.getinc.html">MongoId::getInc</a> — Gets the incremented value to create this id</li>
<li><a href="mongoid.getpid.html">MongoId::getPID</a> — Gets the process ID</li>
<li><a href="mongoid.gettimestamp.html">MongoId::getTimestamp</a> — Gets the number of seconds since the epoch that this id was created</li>
<li><a href="mongoid.isvalid.html">MongoId::isValid</a> — Check if a value is a valid ObjectId</li>
<li><a href="mongoid.set-state.html">MongoId::__set_state</a> — Create a dummy MongoId</li>
<li><a href="mongoid.tostring.html">MongoId::__toString</a> — Returns a hexidecimal representation of this id</li>
</ul>
</li>
<li><a href="class.mongocode.html">MongoCode</a> — The MongoCode class<ul class="chunklist chunklist_title">
<li><a href="mongocode.construct.html">MongoCode::__construct</a> — Creates a new code object</li>
<li><a href="mongocode.tostring.html">MongoCode::__toString</a> — Returns this code as a string</li>
</ul>
</li>
<li><a href="class.mongodate.html">MongoDate</a> — The MongoDate class<ul class="chunklist chunklist_title">
<li><a href="mongodate.construct.html">MongoDate::__construct</a> — Creates a new date.</li>
<li><a href="mongodate.todatetime.html">MongoDate::toDateTime</a> — Returns a DateTime object representing this date</li>
<li><a href="mongodate.tostring.html">MongoDate::__toString</a> — Returns a string representation of this date</li>
</ul>
</li>
<li><a href="class.mongoregex.html">MongoRegex</a> — The MongoRegex class<ul class="chunklist chunklist_title">
<li><a href="mongoregex.construct.html">MongoRegex::__construct</a> — Creates a new regular expression</li>
<li><a href="mongoregex.tostring.html">MongoRegex::__toString</a> — A string representation of this regular expression</li>
</ul>
</li>
<li><a href="class.mongobindata.html">MongoBinData</a> — The MongoBinData class<ul class="chunklist chunklist_title">
<li><a href="mongobindata.construct.html">MongoBinData::__construct</a> — Creates a new binary data object.</li>
<li><a href="mongobindata.tostring.html">MongoBinData::__toString</a> — The string representation of this binary data object.</li>
</ul>
</li>
<li><a href="class.mongoint32.html">MongoInt32</a> — The MongoInt32 class<ul class="chunklist chunklist_title">
<li><a href="mongoint32.construct.html">MongoInt32::__construct</a> — Creates a new 32-bit integer.</li>
<li><a href="mongoint32.tostring.html">MongoInt32::__toString</a> — Returns the string representation of this 32-bit integer.</li>
</ul>
</li>
<li><a href="class.mongoint64.html">MongoInt64</a> — The MongoInt64 class<ul class="chunklist chunklist_title">
<li><a href="mongoint64.construct.html">MongoInt64::__construct</a> — Creates a new 64-bit integer.</li>
<li><a href="mongoint64.tostring.html">MongoInt64::__toString</a> — Returns the string representation of this 64-bit integer.</li>
</ul>
</li>
<li><a href="class.mongodbref.html">MongoDBRef</a> — The MongoDBRef class<ul class="chunklist chunklist_title">
<li><a href="mongodbref.create.html">MongoDBRef::create</a> — Creates a new database reference</li>
<li><a href="mongodbref.get.html">MongoDBRef::get</a> — Fetches the object pointed to by a reference</li>
<li><a href="mongodbref.isref.html">MongoDBRef::isRef</a> — Checks if an array is a database reference</li>
</ul>
</li>
<li><a href="class.mongominkey.html">MongoMinKey</a> — The MongoMinKey class</li>
<li><a href="class.mongomaxkey.html">MongoMaxKey</a> — The MongoMaxKey class</li>
<li><a href="class.mongotimestamp.html">MongoTimestamp</a> — The MongoTimestamp class<ul class="chunklist chunklist_title">
<li><a href="mongotimestamp.construct.html">MongoTimestamp::__construct</a> — Creates a new timestamp.</li>
<li><a href="mongotimestamp.tostring.html">MongoTimestamp::__toString</a> — Returns a string representation of this timestamp</li>
</ul>
</li>
</ul>


 <div class="partintro">
  <div class="section">
   <p class="para">
    MongoDB allows programmers to save and query for data expressed in all of the
    basic PHP types, compound types (arrays, associative arrays, and objects), and
    a half-dozen classes provided by the MongoDB PHP driver (for regular
    expressions, dates, and other specialized applications).
   </p>
  </div>

  <div class="section">
   <h2 class="title">Booleans and <strong><code>NULL</code></strong></h2>
   <p class="para">
    <strong><code>TRUE</code></strong>, <strong><code>FALSE</code></strong>, and <strong><code>NULL</code></strong> can be used as-is.
   </p>
  </div>

  <div class="section">
   <h2 class="title">Numbers</h2>
   <p class="para">
    Numbers are distinct from strings in MongoDB: &quot;123&quot; does not match 123.
    Thus, if you want to make sure numbers are sorted and matched correctly, you
    must make sure that they are actually saved as numbers.
   </p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br />$doc&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">"a"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">123</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"b"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">"123"</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$collection</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">insert</span><span style="color: #007700">(</span><span style="color: #0000BB">$doc</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$doc</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">find</span><span style="color: #007700">(array(</span><span style="color: #DD0000">"a"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">123</span><span style="color: #007700">));&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;matches<br /></span><span style="color: #0000BB">$doc</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">find</span><span style="color: #007700">(array(</span><span style="color: #DD0000">"a"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">"123"</span><span style="color: #007700">));&nbsp;</span><span style="color: #FF8000">//&nbsp;doesn't&nbsp;match<br /></span><span style="color: #0000BB">$doc</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">find</span><span style="color: #007700">(array(</span><span style="color: #DD0000">"a"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">123.0</span><span style="color: #007700">));&nbsp;</span><span style="color: #FF8000">//&nbsp;matches<br /></span><span style="color: #0000BB">$doc</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">find</span><span style="color: #007700">(array(</span><span style="color: #DD0000">"b"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">123</span><span style="color: #007700">));&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;doesn't&nbsp;match<br /></span><span style="color: #0000BB">$doc</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">find</span><span style="color: #007700">(array(</span><span style="color: #DD0000">"b"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">"123"</span><span style="color: #007700">));&nbsp;</span><span style="color: #FF8000">//&nbsp;matches<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

   <p class="para">
    As noted above, floating point numbers do compare with/match integer numbers
    as one would expect.
   </p>
   <div class="section">
    <h2 class="title">Large Numbers</h2>
    <p class="para">
     By default, on a 32-bit system, numbers are sent to the database as 32-bit
     integers. On a 64-bit system, they are sent as 64-bit integers.  For
     backwards compatibility, all systems deserialize 64-bit integers as floating
     point numbers.  Floating point numbers are not exact.  If you need exact
     values, you must tweak your
     <a href="mongo.configuration.html" class="link">php.ini settings</a>.
    </p>
    <p class="para">
     On a 32-bit system, if <em>mongo.long_as_object</em> is set,
     64-bit integers will be returns as <span class="classname">MongoInt64</span>
     objects.  The integer will be stored in the <em>value</em> field
     with perfect precision (as a string). You can also use
     <span class="classname">MongoInt64</span> to save 64-bit integers on 32-bit
     machines.
    </p>
    <p class="para">
     On 64-bit systems, you can either set <em>mongo.long_as_object</em>
     or set <em>mongo.native_long</em>.
     <em>mongo.native_long</em> will return 64-bit integers and
     &quot;normal&quot; PHP integers.  You can use <span class="classname">MongoInt32</span> to
     save 32-bit integers on 64-bit machines.
    </p>
    <p class="para">
     You should set the <em>mongo.long_as_object</em> and
     <em>mongo.native_long</em> behavior that you plan to use, even if
     it is the default behavior (to protect against future changes to the
     defaults).
    </p>
    <p class="para">
     See also: <a href="mongo.configuration.html" class="link">php.ini Options</a>,
     <span class="classname">MongoInt32</span>, <span class="classname">MongoInt64</span>.
    </p>
   </div>
  </div>

  <div class="section">
   <h2 class="title">Strings</h2>
   <p class="para">
    Strings must be UTF-8. Non-UTF-8 strings must either be converted to UTF-8
    before being sent to the database or saved as binary data.
   </p>
   <p class="para">
    Regular expressions can be used to match strings, and are expressed using the
    <span class="classname">MongoRegex</span> class.
   </p>
  </div>

  <div class="section">
   <h2 class="title">Binary Data</h2>
   <p class="para">
    Non-UTF-8 strings, images, and any other binary data should be sent to the
    database using the <span class="classname">MongoBinData</span> type.
   </p>
  </div>

  <div class="section">
   <h2 class="title">Dates</h2>
   <p class="para">
    Dates can be created using the <span class="classname">MongoDate</span> class.  They
    are stored as milliseconds since the epoch.
   </p>
   <p class="para">
    <span class="classname">MongoTimestamp</span> is not for saving dates or timestamps,
    it is used internally by MongoDB.  Unless you are creating a tool that
    interacts with the internals of replication or sharding, you should use
    <span class="classname">MongoDate</span>, <em class="emphasis">not</em>
    <span class="classname">MongoTimestamp</span>.
   </p>
  </div>

  <div class="section">
   <h2 class="title">Unique Ids</h2>
   <p class="para">
    The driver will automatically create an <em>_id</em> field before
    inserting a document (unless one is specified by the user).  This field is an
    instance of <span class="classname">MongoId</span> (called &quot;ObjectId&quot; in most other
    languages).
   </p>
   <p class="para">
    These ids are 12 bytes long and composed of:
    <ul class="itemizedlist">
     <li class="listitem">
      <p class="para">4 bytes of timestamp</p>
      <p class="para">
       No two records can have the same id if they were inserted at different
       times.
      </p>
     </li>
     <li class="listitem">
      <p class="para">3 bytes machine id</p>
      <p class="para">
       No two records can have the same id if they were inserted on different
       machines
      </p>
     </li>
     <li class="listitem">
      <p class="para">2 bytes thread id</p>
      <p class="para">
       No two records can have the same id if they were inserted by different
       threads running on the same machine.
      </p>
     </li>
     <li class="listitem">
      <p class="para">3 bytes incrementing value</p>
      <p class="para">
       Each time an id is created, a global counter is incremented and used
       as the increment value of the next id.
      </p>
     </li>
    </ul>
    Thus, no two records can have the same id unless a single process on a
    single machine managed to insert 256^3 (over 16 million) documents in
    one second, overflowing the increment field.
   </p>
  </div>

  <div class="section">
   <h2 class="title">JavaScript</h2>
   <p class="para">
    MongoDB comes with a JavaScript engine, so you can embed JavaScript in
    queries (using a $where clause), send it directly to the database to be
    executed, and use it to perform aggregations.
   </p>
   <p class="para">
    For security, use <span class="classname">MongoCode</span>&#039;s <em>scope</em>
    field to use PHP variables in JavaScript.  Code that does not require
    external values can either use <span class="classname">MongoCode</span> or just be
    a string.  See the
    <a href="mongo.security.html" class="link">section on security</a> for more
    information about sending JavaScript to the database.
   </p>
  </div>

  <div class="section">
   <h2 class="title">Arrays and Objects</h2>

   <p class="para">
    Arrays and objects can also be saved to the database.  An array with ascending
    numeric keys will be saved as a an array, anything else will be saved as an
    object.
   </p>

   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br /></span><span style="color: #FF8000">//&nbsp;$scores&nbsp;will&nbsp;be&nbsp;saved&nbsp;as&nbsp;an&nbsp;array<br /></span><span style="color: #0000BB">$scores&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #0000BB">98</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">100</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">73</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">85</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$collection</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">insert</span><span style="color: #007700">(array(</span><span style="color: #DD0000">"scores"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$scores</span><span style="color: #007700">));<br /><br /></span><span style="color: #FF8000">//&nbsp;$scores&nbsp;will&nbsp;be&nbsp;saved&nbsp;as&nbsp;an&nbsp;object<br /></span><span style="color: #0000BB">$scores&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">"quiz1"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">98</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"midterm"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">100</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"quiz2"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">73</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"final"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">85</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$collection</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">insert</span><span style="color: #007700">(array(</span><span style="color: #DD0000">"scores"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$scores</span><span style="color: #007700">));<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>


   <p class="para">
    If you query for these objects using the database shell, they will look like:
    <div class="example-contents">
<div class="shellcode"><pre class="shellcode">&gt; db.students.find()
{ &quot;_id&quot; : ObjectId(&quot;4b06beada9ad6390dab17c43&quot;), &quot;scores&quot; : [ 98, 100, 73, 85 ] }
{ &quot;_id&quot; : ObjectId(&quot;4b06bebea9ad6390dab17c44&quot;), &quot;scores&quot; : { &quot;quiz1&quot; : 98, &quot;midterm&quot; : 100, &quot;quiz2&quot; : 73, &quot;final&quot; : 85 } }</pre>
</div>
    </div>

   </p>

   <p class="para">
    The database can also save arbitrary PHP objects (although they will be
    returned as associative arrays).  The fields are used for the key/value
    pairs.  For example, a blog post might look like:
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br />&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;the&nbsp;blog&nbsp;post&nbsp;class<br />&nbsp;&nbsp;</span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">Post&nbsp;</span><span style="color: #007700">{<br /><br />&nbsp;&nbsp;var&nbsp;</span><span style="color: #0000BB">$author</span><span style="color: #007700">;<br />&nbsp;&nbsp;var&nbsp;</span><span style="color: #0000BB">$content</span><span style="color: #007700">;<br />&nbsp;&nbsp;var&nbsp;</span><span style="color: #0000BB">$comments&nbsp;</span><span style="color: #007700">=&nbsp;array();<br />&nbsp;&nbsp;var&nbsp;</span><span style="color: #0000BB">$date</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">__construct</span><span style="color: #007700">(</span><span style="color: #0000BB">$author</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$content</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">author&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$author</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">content&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$content</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">date&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">MongoDate</span><span style="color: #007700">();<br />&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">setTitle</span><span style="color: #007700">(</span><span style="color: #0000BB">$title</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">title&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$title</span><span style="color: #007700">;<br />&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;create&nbsp;a&nbsp;simple&nbsp;blog&nbsp;post&nbsp;and&nbsp;insert&nbsp;it&nbsp;into&nbsp;the&nbsp;database<br /></span><span style="color: #0000BB">$post1&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Post</span><span style="color: #007700">(</span><span style="color: #DD0000">"Adam"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"This&nbsp;is&nbsp;a&nbsp;blog&nbsp;post"</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$blog</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">insert</span><span style="color: #007700">(</span><span style="color: #0000BB">$post1</span><span style="color: #007700">);<br /><br /><br /></span><span style="color: #FF8000">//&nbsp;there&nbsp;is&nbsp;nothing&nbsp;restricting&nbsp;the&nbsp;type&nbsp;of&nbsp;the&nbsp;"author"&nbsp;field,&nbsp;so&nbsp;we&nbsp;can&nbsp;make<br />//&nbsp;it&nbsp;a&nbsp;nested&nbsp;object<br /></span><span style="color: #0000BB">$author&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">"name"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">"Fred"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"karma"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">42</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$post2&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Post</span><span style="color: #007700">(</span><span style="color: #0000BB">$author</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"This&nbsp;is&nbsp;another&nbsp;blog&nbsp;post."</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;we&nbsp;create&nbsp;an&nbsp;extra&nbsp;field&nbsp;by&nbsp;setting&nbsp;the&nbsp;title<br /></span><span style="color: #0000BB">$post2</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setTitle</span><span style="color: #007700">(</span><span style="color: #DD0000">"Second&nbsp;Post"</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$blog</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">insert</span><span style="color: #007700">(</span><span style="color: #0000BB">$post2</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </p>

   <p class="para">
    From the database shell, this will look something like:
    <div class="example-contents">
<div class="shellcode"><pre class="shellcode">&gt; db.blog.find()
{ &quot;_id&quot; : ObjectId(&quot;4b06c263edb87a281e09dad8&quot;), &quot;author&quot; : &quot;Adam&quot;, &quot;content&quot; : &quot;This is a blog post&quot;, &quot;comments&quot; : [ ], &quot;date&quot; : &quot;Fri Nov 20 2009 11:22:59 GMT-0500 (EST)&quot; }
{ &quot;_id&quot; : ObjectId(&quot;4b06c282edb87a281e09dad9&quot;), &quot;author&quot; : { &quot;name&quot; : &quot;Fred&quot;, &quot;karma&quot; : 42 }, &quot;content&quot; : &quot;This is a blog post&quot;, &quot;comments&quot; : [ ], &quot;date&quot; : &quot;Fri Nov 20 2009 11:23:30 GMT-0500 (EST)&quot;, &quot;title&quot; : &quot;Second Post&quot; }</pre>
</div>
    </div>

   </p>

   <p class="para">
    The driver will not detect reference loops in arrays and objects.  For
    example, this will give a fatal error:
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br />$collection</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">insert</span><span style="color: #007700">(</span><span style="color: #0000BB">$GLOBALS</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents">
<div class="txtcode"><pre class="txtcode">Fatal error: Nesting level too deep - recursive dependency?</pre>
</div>
    </div>

    If you need to insert documents that may have recursive dependency, you have
    to check for it yourself before passing it to the driver.
   </p>
  </div>
 </div>
 




 <h1 class="title">The MongoId class</h1>
 

 <div class="partintro">

  <div class="warning"><strong class="warning">Warning</strong>
   <p class="para">This extension that defines this class
is deprecated. Instead, the <a href="set.mongodb.html" class="link">MongoDB</a> extension should be used.
Alternatives to this class include:</p>
   <ul class="simplelist">
    <li class="member"><span class="classname">MongoDB\BSON\ObjectID</span></li>
   </ul>
  </div>


  <div class="section" id="mongoid.intro">
   <h2 class="title">Introduction</h2>
   <p class="para">
    A unique identifier created for database objects.  If an object is inserted
    into the database without an _id field, an _id field will be added to it
    with a <span class="classname">MongoId</span> instance as its value.  If the data 
    has a naturally occuring unique field (e.g. username or timestamp) it is
    fine to use this as the _id field instead, and it will not be replaced with 
    a <span class="classname">MongoId</span>.
   </p>
   <p class="para">
    Instances of the <span class="classname">MongoId</span> class fulfill the role that 
    autoincrementing does in a relational database: to provide a unique key if 
    the data does not naturally have one. Autoincrementing does not work well 
    with a sharded database, as it is difficult to determine the next number in
    the sequence. This class fulfills the constraints of quickly generating a
    value that is unique across shards.
   </p>
   <p class="para">
    Each MongoId is 12 bytes (making its string form 24 hexadecimal characters).
    The first four bytes are a timestamp, the next three are a hash of the
    client machine&#039;s hostname, the next two are the two least significant bytes
    of the process id running the script, and the last three bytes are an
    incrementing value.
   </p>
   <p class="para">
    <span class="classname">MongoId</span>s are serializable/unserializable.  Their
    serialized form is similar to their string form:
    <div class="example-contents screen">
<div class="cdata"><pre>
C:7:&quot;MongoId&quot;:24:{4af9f23d8ead0e1d32000000}
</pre></div>
    </div>
   </p>
  </div>


  <div class="section" id="mongoid.synopsis">
   <h2 class="title">Class synopsis</h2>


   <div class="classsynopsis">
    <div class="ooclass"><strong class="classname">MongoId</strong></div>


    <div class="classsynopsisinfo">
     <span class="ooclass">
       class <strong class="classname">MongoId</strong>
     </span>
     {</div>


    <div class="fieldsynopsis">
     <span class="modifier">public</span>
     <span class="type">string</span>
     <var class="varname">$$id</var>
     <span class="initializer"> = <strong><code>NULL</code></strong></span>
    ;</div>

    
    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Methods */</div>
    <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>  <span class="methodname">__construct</span>
    ([ <span class="methodparam"><span class="type">string|MongoId</span> <code class="parameter">$id</code><span class="initializer"> = <strong><code>NULL</code></strong></span></span>
  ] )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="modifier">static</span> <span class="type">string</span> <span class="methodname">getHostname</span>
    ( <span class="methodparam">void</span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">int</span> <span class="methodname">getInc</span>
    ( <span class="methodparam">void</span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">int</span> <span class="methodname">getPID</span>
    ( <span class="methodparam">void</span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">int</span> <span class="methodname">getTimestamp</span>
    ( <span class="methodparam">void</span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="modifier">static</span> <span class="type">bool</span> <span class="methodname">isValid</span>
    ( <span class="methodparam"><span class="type">mixed</span> <code class="parameter">$value</code></span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="modifier">static</span> <span class="type">MongoId</span> <span class="methodname">__set_state</span>
    ( <span class="methodparam"><span class="type">array</span> <code class="parameter">$props</code></span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">string</span> <span class="methodname">__toString</span>
    ( <span class="methodparam">void</span>
   )</div>

   }</div>


  </div>

  <div class="section">
   <h2 class="title">Fields</h2>
   <dl>

    
     <dt id="mongoid.props.id"><var class="varname">$id</var></dt>

     <dd>

      <span class="simpara">
       This field contains the string representation of this object.
      </span>
      <blockquote class="note"><p><strong class="note">Note</strong>: 
        <span class="simpara">
          The property name begins with a <em>$</em> character. It may
          be accessed using
          <a href="language.types.string.html#language.types.string.parsing.complex" class="link">complex variable
          parsed syntax</a> (e.g. <em>$mongoId-&gt;{&#039;$id&#039;}</em>).
        </span>
      </p></blockquote>
     </dd>

    
   </dl>

  </div>

  <div class="section">
   <h2 class="title">See Also</h2>
   <p class="para">
    MongoDB core docs on <a href="https://docs.mongodb.com/manual/reference/object-id/" class="link external">&raquo;&nbsp;ObjectIds</a>.
   </p>
  </div>
 </div>

 





























































 




 <h1 class="title">The MongoCode class</h1>
 

 <div class="partintro">

  <div class="warning"><strong class="warning">Warning</strong>
   <p class="para">This extension that defines this class
is deprecated. Instead, the <a href="set.mongodb.html" class="link">MongoDB</a> extension should be used.
Alternatives to this class include:</p>
   <ul class="simplelist">
    <li class="member"><span class="classname">MongoDB\BSON\JavaScript</span></li>
   </ul>
  </div>


  <div class="section" id="mongocode.intro">
   <h2 class="title">Introduction</h2>
   <p class="para">
    Represents JavaScript code for the database.
   </p>
   <p class="para">
    MongoCode objects are composed of two parts: a string of code and an optional scope.  The string of code must be valid JavaScript.  The scope is a associative array of variable name/value pairs.
   </p>
  </div>


  <div class="section" id="mongocode.synopsis">
   <h2 class="title">Class synopsis</h2>


   <div class="classsynopsis">
    <div class="ooclass"><strong class="classname">MongoCode</strong></div>


    <div class="classsynopsisinfo">
     <span class="ooclass">
       class <strong class="classname">MongoCode</strong>
     </span>
     {</div>

    
    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Methods */</div>
    <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>  <span class="methodname">__construct</span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$code</code></span>
   [, <span class="methodparam"><span class="type">array</span> <code class="parameter">$scope</code><span class="initializer"> = array()</span></span>
  ] )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">string</span> <span class="methodname">__toString</span>
    ( <span class="methodparam">void</span>
   )</div>

   }</div>


  </div>

 </div>

 



















 




 <h1 class="title">The MongoDate class</h1>
 

 <div class="partintro">

  <div class="warning"><strong class="warning">Warning</strong>
   <p class="para">This extension that defines this class
is deprecated. Instead, the <a href="set.mongodb.html" class="link">MongoDB</a> extension should be used.
Alternatives to this class include:</p>
   <ul class="simplelist">
    <li class="member"><span class="classname">MongoDB\BSON\UTCDateTime</span></li>
   </ul>
  </div>


  <div class="section" id="mongodate.intro">
   <h2 class="title">Introduction</h2>
   <p class="para">
    Represent date objects for the database.  This class should be used to save
    dates to the database and to query for dates.  For example:
   </p>
   <div class="example" id="mongocommandcursor.stages.adding-options">
    <p><strong>Example #1 Storing dates with <span class="classname">MongoDate</span></strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br /></span><span style="color: #FF8000">//&nbsp;save&nbsp;a&nbsp;date&nbsp;to&nbsp;the&nbsp;database<br /></span><span style="color: #0000BB">$collection</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">save</span><span style="color: #007700">(array(</span><span style="color: #DD0000">"ts"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;new&nbsp;</span><span style="color: #0000BB">MongoDate</span><span style="color: #007700">()));<br /><br /></span><span style="color: #0000BB">$start&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">MongoDate</span><span style="color: #007700">(</span><span style="color: #0000BB">strtotime</span><span style="color: #007700">(</span><span style="color: #DD0000">"2010-01-15&nbsp;00:00:00"</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">$end&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">MongoDate</span><span style="color: #007700">(</span><span style="color: #0000BB">strtotime</span><span style="color: #007700">(</span><span style="color: #DD0000">"2010-01-30&nbsp;00:00:00"</span><span style="color: #007700">));<br /><br /></span><span style="color: #FF8000">//&nbsp;find&nbsp;dates&nbsp;between&nbsp;1/15/2010&nbsp;and&nbsp;1/30/2010<br /></span><span style="color: #0000BB">$collection</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">find</span><span style="color: #007700">(array(</span><span style="color: #DD0000">"ts"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;array(</span><span style="color: #DD0000">'$gt'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$start</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'$lte'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$end</span><span style="color: #007700">)));<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
   <p class="para">
    MongoDB stores dates as milliseconds past the epoch.  This means that dates 
    <em class="emphasis">do not</em> contain timezone information.  Timezones must be
    stored in a separate field if needed.  Second, this means that any precision
    beyond milliseconds will be lost when the document is sent to/from the 
    database.
   </p>
  </div>


  <div class="section" id="mongodate.synopsis">
   <h2 class="title">Class synopsis</h2>


   <div class="classsynopsis">
    <div class="ooclass"><strong class="classname">MongoDate</strong></div>


    <div class="classsynopsisinfo">
     <span class="ooclass">
       class <strong class="classname">MongoDate</strong>
     </span>
     {</div>

  
    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Fields */</div>
    <div class="fieldsynopsis">
     <span class="modifier">public</span>
     <span class="type">int</span>
     <var class="varname">$sec</var>
    ;</div>

    <div class="fieldsynopsis">
     <span class="modifier">public</span>
     <span class="type">int</span>
     <var class="varname">$usec</var>
    ;</div>



    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Methods */</div>
    <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>  <span class="methodname">__construct</span>
    ([ <span class="methodparam"><span class="type">int</span> <code class="parameter">$sec</code><span class="initializer"> = time()</span></span>
   [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$usec</code><span class="initializer"> = 0</span></span>
  ]] )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">DateTime</span> <span class="methodname">toDateTime</span>
    ( <span class="methodparam">void</span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">string</span> <span class="methodname">__toString</span>
    ( <span class="methodparam">void</span>
   )</div>

   }</div>


  </div>

 </div>

 


























 




 <h1 class="title">The MongoRegex class</h1>
 

 <div class="partintro">

  <div class="warning"><strong class="warning">Warning</strong>
   <p class="para">This extension that defines this class
is deprecated. Instead, the <a href="set.mongodb.html" class="link">MongoDB</a> extension should be used.
Alternatives to this class include:</p>
   <ul class="simplelist">
    <li class="member"><span class="classname">MongoDB\BSON\Regex</span></li>
   </ul>
  </div>


  <div class="section" id="mongoregex.intro">
   <h2 class="title">Introduction</h2>
   <p class="para">
    This class can be used to create regular expressions.  Typically, these
    expressions will be used to query the database and find matching strings.
    More unusually, they can be saved to the database and retrieved.
   </p>
   <p class="para">
    Regular expressions consist of four parts. First a <em>/</em>
    as starting delimiter, then the pattern, another <em>/</em> 
    and finally a string containing flags.
   </p>
   <p class="para">
    <div class="example" id="example-1616">
     <p><strong>Example #1 Regular expression pattern</strong></p>
      <div class="example-contents screen">
<div class="cdata"><pre>
/pattern/flags
</pre></div>
      </div>
    </div>
   </p>
   <p class="para">
    MongoDB recognizes six regular expression flags:
   </p>
   <ul class="itemizedlist">
    <li class="listitem">
     <p class="para">
      <em>i</em>: Case insensitive
     </p>
    </li>
    <li class="listitem">
     <p class="para">
      <em>m</em>: Multiline
     </p>
    </li>
    <li class="listitem">
     <p class="para">
      <em>x</em>: Can contain comments
     </p>
    </li>
    <li class="listitem">
     <p class="para">
      <em>l</em>: locale
     </p>
    </li>
    <li class="listitem">
     <p class="para">
      <em>s</em>: dotall, &quot;.&quot; matches everything, including newlines
     </p>
    </li>
    <li class="listitem">
     <p class="para">
      <em>u</em>: match unicode
     </p>
    </li>
   </ul>
  </div>


  <div class="section" id="mongoregex.synopsis">
   <h2 class="title">Class synopsis</h2>


   <div class="classsynopsis">
    <div class="ooclass"><strong class="classname">MongoRegex</strong></div>


    <div class="classsynopsisinfo">
     <span class="ooclass">
       class <strong class="classname">MongoRegex</strong>
     </span>
     {</div>


    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Fields */</div>
    <div class="fieldsynopsis">
     <span class="modifier">public</span>
     <span class="type">string</span>
     <var class="varname">$regex</var>
    ;</div>

    <div class="fieldsynopsis">
     <span class="modifier">public</span>
     <span class="type">string</span>
     <var class="varname">$flags</var>
    ;</div>

    
    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Methods */</div>
    <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>  <span class="methodname">__construct</span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$regex</code></span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">string</span> <span class="methodname">__toString</span>
    ( <span class="methodparam">void</span>
   )</div>

   }</div>


  </div>

 </div>

 



















 




 <h1 class="title">The MongoBinData class</h1>
 

 <div class="partintro">

  <div class="warning"><strong class="warning">Warning</strong>
   <p class="para">This extension that defines this class
is deprecated. Instead, the <a href="set.mongodb.html" class="link">MongoDB</a> extension should be used.
Alternatives to this class include:</p>
   <ul class="simplelist">
    <li class="member"><span class="classname">MongoDB\BSON\Binary</span></li>
   </ul>
  </div>


  <div class="section" id="mongobindata.intro">
   <h2 class="title">Introduction</h2>
   <p class="para">
    An object that can be used to store or retrieve binary data from the database.
   </p>
   <p class="para">
    The maximum size of a single object that can be inserted into the database
    is 16MB. For data that is larger than this (movies, music, Henry Kissinger&#039;s
    autobiography), use <span class="classname">MongoGridFS</span>. For data that is
    smaller than 16MB, you may find it easier to embed it within the document
    using <span class="classname">MongoBinData</span>.
   </p>
   <p class="para">
    For example, to embed an image in a document, one could write:
   </p>
   <div class="example" id="example-1619">
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br />$profile&nbsp;</span><span style="color: #007700">=&nbsp;array(<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"username"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">"foobity"</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"pic"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;new&nbsp;</span><span style="color: #0000BB">MongoBinData</span><span style="color: #007700">(</span><span style="color: #0000BB">file_get_contents</span><span style="color: #007700">(</span><span style="color: #DD0000">"gravatar.jpg"</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">MongoBinData</span><span style="color: #007700">::</span><span style="color: #0000BB">GENERIC</span><span style="color: #007700">),<br />);<br /><br /></span><span style="color: #0000BB">$users</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">save</span><span style="color: #007700">(</span><span style="color: #0000BB">$profile</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
   <p class="para">
    This class contains a <var class="varname">type</var> field, which currently gives
    no additional functionality in the PHP driver or the database. There are
    seven predefined types, which are defined as class constants below. For
    backwards compatibility, the PHP driver uses
    <strong><code>MongoBinData::BYTE_ARRAY</code></strong> as the default; however, this
    may change to <strong><code>MongoBinData::GENERIC</code></strong> in the future.
    Users are encouraged to specify a type in
    <span class="function">MongoBinData::__construct</span>.
   </p>
  </div>


  <div class="section" id="mongobindata.synopsis">
   <h2 class="title">Class synopsis</h2>


   <div class="classsynopsis">
    <div class="ooclass"><strong class="classname">MongoBinData</strong></div>


    <div class="classsynopsisinfo">
     <span class="ooclass">
       class <strong class="classname">MongoBinData</strong>
     </span>
     {</div>

    
    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Constants */</div>
    <div class="fieldsynopsis">
     <span class="modifier">const</span>
     <span class="type">int</span>
     <var class="fieldsynopsis_varname">MongoBinData::GENERIC</var>
     <span class="initializer"> = 0</span>
    ;</div>

    <div class="fieldsynopsis">
     <span class="modifier">const</span>
     <span class="type">int</span>
     <var class="fieldsynopsis_varname">MongoBinData::FUNC</var>
     <span class="initializer"> = 1</span>
    ;</div>

    <div class="fieldsynopsis">
     <span class="modifier">const</span>
     <span class="type">int</span>
     <var class="fieldsynopsis_varname">MongoBinData::BYTE_ARRAY</var>
     <span class="initializer"> = 2</span>
    ;</div>

    <div class="fieldsynopsis">
     <span class="modifier">const</span>
     <span class="type">int</span>
     <var class="fieldsynopsis_varname">MongoBinData::UUID</var>
     <span class="initializer"> = 3</span>
    ;</div>

    <div class="fieldsynopsis">
     <span class="modifier">const</span>
     <span class="type">int</span>
     <var class="fieldsynopsis_varname">MongoBinData::UUID_RFC4122</var>
     <span class="initializer"> = 4</span>
    ;</div>

    <div class="fieldsynopsis">
     <span class="modifier">const</span>
     <span class="type">int</span>
     <var class="fieldsynopsis_varname">MongoBinData::MD5</var>
     <span class="initializer"> = 5</span>
    ;</div>

    <div class="fieldsynopsis">
     <span class="modifier">const</span>
     <span class="type">int</span>
     <var class="fieldsynopsis_varname">MongoBinData::CUSTOM</var>
     <span class="initializer"> = 128</span>
    ;</div>


    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Fields */</div>
    <div class="fieldsynopsis">
     <span class="modifier">public</span>
     <span class="type">string</span>
     <var class="varname">$bin</var>
    ;</div>

    <div class="fieldsynopsis">
     <span class="modifier">public</span>
     <span class="type">int</span>
     <var class="varname">$type</var>
     <span class="initializer"> = 2</span>
    ;</div>


    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Methods */</div>
    <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>  <span class="methodname">__construct</span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$data</code></span>
   [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$type</code><span class="initializer"> = 0</span></span>
  ] )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">string</span> <span class="methodname">__toString</span>
    ( <span class="methodparam">void</span>
   )</div>

   }</div>


  </div>


  <div class="section">
   <h2 class="title">Predefined Constants</h2>
   <div class="section" id="mongobindata.constants.types">
    <h2 class="title">Binary Data Types</h2>
    <dl>

     
      <dt id="mongobindata.constants.generic"><strong><code>MongoBinData::GENERIC</code></strong></dt>

      <dt>
<strong><code>0x00</code></strong></dt>

      <dd>

       <span class="simpara">
        Generic binary data.
       </span>
      </dd>

     
     
      <dt id="mongobindata.constants.func"><strong><code>MongoBinData::FUNC</code></strong></dt>

      <dt>
<strong><code>0x01</code></strong></dt>

      <dd>

       <span class="simpara">
        Function.
       </span>
      </dd>

     
     
      <dt id="mongobindata.constants.byte_array"><strong><code>MongoBinData::BYTE_ARRAY</code></strong></dt>

      <dt>
<strong><code>0x02</code></strong></dt>

      <dd>

       <span class="simpara">
        Generic binary data (deprecated in favor of
        <strong><code>MongoBinData::GENERIC</code></strong>).
       </span>
      </dd>

     
     
      <dt id="mongobindata.constants.uuid"><strong><code>MongoBinData::UUID</code></strong></dt>

      <dt>
<strong><code>0x03</code></strong></dt>

      <dd>

       <span class="simpara">
        Universally unique identifier (deprecated in favor of
        <strong><code>MongoBinData::UUID_RFC4122</code></strong>).
       </span>
      </dd>

     
     
      <dt id="mongobindata.constants.uuid_rfc4122"><strong><code>MongoBinData::UUID_RFC4122</code></strong></dt>

      <dt>
<strong><code>0x04</code></strong></dt>

      <dd>

       <span class="simpara">
        Universally unique identifier (according to
        <a href="http://www.faqs.org/rfcs/rfc4122" class="link external">&raquo;&nbsp;RFC 4122</a>).
       </span>
      </dd>

     
     
      <dt id="mongobindata.constants.md5"><strong><code>MongoBinData::MD5</code></strong></dt>

      <dt>
<strong><code>0x05</code></strong></dt>

      <dd>

       <span class="simpara">
        MD5.
       </span>
      </dd>

     
     
      <dt id="mongobindata.constants.custom"><strong><code>MongoBinData::CUSTOM</code></strong></dt>

      <dt>
<strong><code>0x80</code></strong></dt>

      <dd>

       <span class="simpara">
        User-defined type.
       </span>
      </dd>

     
    </dl>

   </div>
  </div>


  <div class="simplesect">
   <h1 class="title">Changelog</h1>
   <table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>Version</th>
       <th>Description</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>1.5.0</td>
       <td>
        Added <strong><code>MongoBinData::GENERIC</code></strong> and
        <strong><code>MongoBinData::UUID_RFC4122</code></strong> constants.
       </td>
      </tr>

     </tbody>
    
   </table>

  </div>

 </div>

 



















 




 <h1 class="title">The MongoInt32 class</h1>
 

 <div class="partintro">
  <div class="warning"><strong class="warning">Warning</strong>
   <p class="para">This extension that defines this class
is deprecated. Instead, the <a href="set.mongodb.html" class="link">MongoDB</a> extension should be used.
There is no equivalent for this class in the new extension.</p>
   <p class="para">
    Instead, the new extension chooses the appropriate database type depending
    on the integer&#039;s value.
   </p>
  </div>


  <div class="section" id="mongoint32.intro">
   <h2 class="title">Introduction</h2>
   <p class="para">
    The class can be used to save 32-bit integers to the database on a 64-bit 
    system.
   </p>
  </div>


  <div class="section" id="mongoint32.synopsis">
   <h2 class="title">Class synopsis</h2>


   <div class="classsynopsis">
    <div class="ooclass"><strong class="classname">MongoInt32</strong></div>


    <div class="classsynopsisinfo">
     <span class="ooclass">
       class <strong class="classname">MongoInt32</strong>
     </span>
     {</div>

    
    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Fields */</div>
    <div class="fieldsynopsis">
     <span class="modifier">public</span>
     <span class="type">string</span>
     <var class="varname">$value</var>
    ;</div>


    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Methods */</div>
    <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>  <span class="methodname">__construct</span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$value</code></span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">string</span> <span class="methodname">__toString</span>
    ( <span class="methodparam">void</span>
   )</div>

   }</div>


  </div>

  <div class="section">
   <h2 class="title">Fields</h2>
   <dl>

    
     <dt id="mongoint32.props.value"><var class="varname">value</var></dt>

     <dd>

      <span class="simpara">
       This is the string value of the 32-bit number.  For instance, 123&#039;s value
       would be &quot;123&quot;.
      </span>
     </dd>

    
   </dl>

  </div>

 </div>

 



















 




 <h1 class="title">The MongoInt64 class</h1>
 

 <div class="partintro">
  <div class="warning"><strong class="warning">Warning</strong>
   <p class="para">This extension that defines this class
is deprecated. Instead, the <a href="set.mongodb.html" class="link">MongoDB</a> extension should be used.
There is no equivalent for this class in the new extension.</p>
   <p class="para">
    Instead, the new extension chooses the appropriate database type depending
    on the integer&#039;s value.
   </p>
  </div>


  <div class="section" id="mongoint64.intro">
   <h2 class="title">Introduction</h2>
   <p class="para">
    The class can be used to save 64-bit integers to the database on a 32-bit 
    system.
   </p>
  </div>


  <div class="section" id="mongoint64.synopsis">
   <h2 class="title">Class synopsis</h2>


   <div class="classsynopsis">
    <div class="ooclass"><strong class="classname">MongoInt64</strong></div>


    <div class="classsynopsisinfo">
     <span class="ooclass">
       class <strong class="classname">MongoInt64</strong>
     </span>
     {</div>

    
    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Fields */</div>
    <div class="fieldsynopsis">
     <span class="modifier">public</span>
     <span class="type">string</span>
     <var class="varname">$value</var>
    ;</div>


    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Methods */</div>
    <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>  <span class="methodname">__construct</span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$value</code></span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">string</span> <span class="methodname">__toString</span>
    ( <span class="methodparam">void</span>
   )</div>

   }</div>


  </div>

  <div class="section">
   <h2 class="title">Fields</h2>
   <dl>

    
     <dt id="mongoint64.props.value"><var class="varname">value</var></dt>

     <dd>

      <span class="simpara">
       This is the string value of the 64-bit number.  For instance, 123&#039;s value
       would be &quot;123&quot;.
      </span>
     </dd>

    
   </dl>

  </div>

 </div>

 



















 




 <h1 class="title">The MongoDBRef class</h1>
 

 <div class="partintro">

  <div class="warning"><strong class="warning">Warning</strong>
   <p class="para">This extension that defines this class
is deprecated. Instead, the <a href="set.mongodb.html" class="link">MongoDB</a> extension should be used.
There is no equivalent for this class in the new extension.</p>
   <p class="para">
    The concept of database references, and hence this class, has been
    deprecated in the database.
   </p>
  </div>


  <div class="section" id="mongodbref.intro">
   <h2 class="title">Introduction</h2>
   <p class="para">
    This class can be used to create lightweight links between objects in 
    different collections.
   </p>
   <p class="para">
    <em class="emphasis">Motivation</em>: Suppose we need to refer to a document in 
    another collection. The easiest way is to create a field in the current 
    document.  For example, if we had a &quot;people&quot; collection and an &quot;addresses&quot;
    collection, we might want to create a link between each person document and
    an address document:
    <div class="example" id="example-1620">
     <p><strong>Example #1 Linking documents</strong></p>
     <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br />$people&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$db</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">people</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$addresses&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$db</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addresses</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$myAddress&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">"line&nbsp;1"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">"123&nbsp;Main&nbsp;Street"</span><span style="color: #007700">,&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"line&nbsp;2"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"city"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">"Springfield"</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"state"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">"Vermont"</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"country"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">"USA"</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;save&nbsp;the&nbsp;address<br /></span><span style="color: #0000BB">$addresses</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">insert</span><span style="color: #007700">(</span><span style="color: #0000BB">$myAddress</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;save&nbsp;a&nbsp;person&nbsp;with&nbsp;a&nbsp;reference&nbsp;to&nbsp;the&nbsp;address<br /></span><span style="color: #0000BB">$me&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #DD0000">"name"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">"Fred"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"address"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$myAddress</span><span style="color: #007700">[</span><span style="color: #DD0000">'_id'</span><span style="color: #007700">]);<br /></span><span style="color: #0000BB">$people</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">insert</span><span style="color: #007700">(</span><span style="color: #0000BB">$me</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
     </div>

    </div>
   </p>
   <p class="para">
    Then, later on, we can find the person&#039;s address by querying the &quot;addresses&quot;
    collection with the <span class="classname">MongoId</span> we saved in the &quot;people&quot;
    collection.
   </p>
   <p class="para">
    Suppose now that we have a more general case, where we don&#039;t know which
    collection (or even which database) contains the referenced document.  
    <span class="classname">MongoDBRef</span> is a good choice for this case, as it is a
    common format that all of the drivers and the database understand.
   </p>
   <p class="para">
    If each person had a list of things they liked which could come from
    multiple collections, such as &quot;hobbies&quot;, &quot;sports&quot;, &quot;books&quot;, etc., we could
    use <span class="classname">MongoDBRef</span>s to keep track of what &quot;like&quot; went
    with what collection:
    <div class="example" id="example-1621">
     <p><strong>Example #2 Creating MongoDBRef links</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br />$people&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$db</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">selectCollection</span><span style="color: #007700">(</span><span style="color: #DD0000">"people"</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;model&nbsp;trains&nbsp;are&nbsp;in&nbsp;the&nbsp;"hobbies"&nbsp;collection<br /></span><span style="color: #0000BB">$trainRef&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">MongoDBRef</span><span style="color: #007700">::</span><span style="color: #0000BB">create</span><span style="color: #007700">(</span><span style="color: #DD0000">"hobbies"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$modelTrains</span><span style="color: #007700">[</span><span style="color: #DD0000">'_id'</span><span style="color: #007700">]);<br /></span><span style="color: #FF8000">//&nbsp;soccer&nbsp;is&nbsp;in&nbsp;the&nbsp;"sports"&nbsp;collection<br /></span><span style="color: #0000BB">$soccerRef&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">MongoDBRef</span><span style="color: #007700">::</span><span style="color: #0000BB">create</span><span style="color: #007700">(</span><span style="color: #DD0000">"sports"</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$soccer</span><span style="color: #007700">[</span><span style="color: #DD0000">'_id'</span><span style="color: #007700">]);<br /><br /></span><span style="color: #FF8000">//&nbsp;now&nbsp;we'll&nbsp;know&nbsp;what&nbsp;collections&nbsp;the&nbsp;items&nbsp;in&nbsp;the&nbsp;"likes"&nbsp;array&nbsp;came&nbsp;from&nbsp;when<br />//&nbsp;we&nbsp;retrieve&nbsp;this&nbsp;document<br /></span><span style="color: #0000BB">$people</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">insert</span><span style="color: #007700">(array(</span><span style="color: #DD0000">"name"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">"Fred"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"likes"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;array(</span><span style="color: #0000BB">$trainRef</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$soccerRef</span><span style="color: #007700">)));<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
     </div>

    </div>
   </p>
   <p class="para">
    Database references can be thought of as hyperlinks: they give the unique 
    address of another document, but they do not load it or automatically follow
    the link/reference.  
   </p>
   <p class="para">
    A database reference is just a normal associative array, not an instance of
    <span class="classname">MongoDBRef</span>, so this class is a little different than 
    the other data type classes.  This class contains exclusively static methods 
    for manipulating database references.
   </p>
  </div>


  <div class="section" id="mongodbref.synopsis">
   <h2 class="title">Class synopsis</h2>


   <div class="classsynopsis">
    <div class="ooclass"><strong class="classname">MongoDBRef</strong></div>


    <div class="classsynopsisinfo">
     <span class="ooclass">
       class <strong class="classname">MongoDBRef</strong>
     </span>
     {</div>

    
    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Methods */</div>
    <div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="modifier">static</span> <span class="type">array</span> <span class="methodname">create</span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$collection</code></span>
   , <span class="methodparam"><span class="type">mixed</span> <code class="parameter">$id</code></span>
   [, <span class="methodparam"><span class="type">string</span> <code class="parameter">$database</code></span>
  ] )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="modifier">static</span> <span class="type">array</span> <span class="methodname">get</span>
    ( <span class="methodparam"><span class="type">MongoDB</span> <code class="parameter">$db</code></span>
   , <span class="methodparam"><span class="type">array</span> <code class="parameter">$ref</code></span>
   )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="modifier">static</span> <span class="type">bool</span> <span class="methodname">isRef</span>
    ( <span class="methodparam"><span class="type">mixed</span> <code class="parameter">$ref</code></span>
   )</div>

   }</div>


  </div>

  <div class="section">
   <h2 class="title">See Also</h2>
   <p class="para">
    MongoDB core docs on <a href="https://docs.mongodb.com/manual/reference/database-references/" class="link external">&raquo;&nbsp;databases references</a>.
   </p>
  </div>
 </div>

 



 





 





 







 




 <h1 class="title">The MongoMinKey class</h1>
 

 <div class="partintro">

  <div class="warning"><strong class="warning">Warning</strong>
   <p class="para">This extension that defines this class
is deprecated. Instead, the <a href="set.mongodb.html" class="link">MongoDB</a> extension should be used.
Alternatives to this class include:</p>
   <ul class="simplelist">
    <li class="member"><span class="classname">MongoDB\BSON\MinKey</span></li>
   </ul>
  </div>


  <div class="section" id="mongominkey.intro">
   <h2 class="title">Introduction</h2>
   <p class="para">
    <span class="classname">MongoMinKey</span> is an special type used by the database
    that compares less than all other possible BSON values. Thus, if a query is
    sorted by a given field in ascending order, any document with a 
    <span class="classname">MongoMinKey</span> as its value will be returned first.
   </p>
   <p class="para">
    <span class="classname">MongoMinKey</span> has no associated fields, methods, or
    constants. It is merely the &quot;smallest&quot; value that can be represented in the
    database.
   </p>
   <blockquote class="note"><p><strong class="note">Note</strong>: 
    <span class="simpara">
     <span class="classname">MongoMinKey</span> is used internally by MongoDB for
     indexing and sharding. There is generally no reason to use this class in
     an application.
    </span>
   </p></blockquote>
  </div>


  <div class="section" id="mongominkey.synopsis">
   <h2 class="title">Class synopsis</h2>


   <div class="classsynopsis">
    <div class="ooclass"><strong class="classname">MongoMinKey</strong></div>


    <div class="classsynopsisinfo">
     <span class="ooclass">
       class <strong class="classname">MongoMinKey</strong>
     </span>
     {</div>

   }</div>


  </div>

  <div class="section" id="mongominkey.example">
   <h2 class="title">Using <span class="classname">MongoMinKey</span> as a value</h2>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br />$collection</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">insert</span><span style="color: #007700">(array(</span><span style="color: #DD0000">"task"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">"lunch"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"doBy"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;new&nbsp;</span><span style="color: #0000BB">MongoMinKey</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">$collection</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">insert</span><span style="color: #007700">(array(</span><span style="color: #DD0000">"task"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">"staff&nbsp;meeting"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"doBy"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;new&nbsp;</span><span style="color: #0000BB">MongoDate</span><span style="color: #007700">(</span><span style="color: #0000BB">strtotime</span><span style="color: #007700">(</span><span style="color: #DD0000">"+4&nbsp;days"</span><span style="color: #007700">))));<br /><br /></span><span style="color: #0000BB">$cursor&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$collection</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">find</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">sort</span><span style="color: #007700">(array(</span><span style="color: #DD0000">"doBy"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">));<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

   <p class="para">
    The cursor will return the lunch document followed by the staff meeting
    document. The lunch document will always be returned first, regardless of
    what else is added to the collection (unless other documents are added with
    <span class="classname">MongoMinKey</span> in their &quot;doBy&quot; field).
   </p>
  </div>

  <div class="simplesect">
   <h1 class="title">See Also</h1>
   <ul class="simplelist">
    <li class="member"><span class="classname">MongoMaxKey</span></li>
   </ul>
  </div>
 </div>





 




 <h1 class="title">The MongoMaxKey class</h1>
 

 <div class="partintro">

  <div class="warning"><strong class="warning">Warning</strong>
   <p class="para">This extension that defines this class
is deprecated. Instead, the <a href="set.mongodb.html" class="link">MongoDB</a> extension should be used.
Alternatives to this class include:</p>
   <ul class="simplelist">
    <li class="member"><span class="classname">MongoDB\BSON\MaxKey</span></li>
   </ul>
  </div>


  <div class="section" id="mongomaxkey.intro">
   <h2 class="title">Introduction</h2>
   <p class="para">
    <span class="classname">MongoMaxKey</span> is an special type used by the database
    that compares greater than all other possible BSON values. Thus, if a query
    is sorted by a given field in ascending order, any document with a 
    <span class="classname">MongoMaxKey</span> as its value will be returned last.
   </p>
   <p class="para">
    <span class="classname">MongoMaxKey</span> has no associated fields, methods, or
    constants. It is merely the &quot;greatest&quot; value that can be represented in the
    database.
   </p>
   <blockquote class="note"><p><strong class="note">Note</strong>: 
    <span class="simpara">
     <span class="classname">MongoMaxKey</span> is used internally by MongoDB for
     indexing and sharding. There is generally no reason to use this class in
     an application.
    </span>
   </p></blockquote>
  </div>


  <div class="section" id="mongomaxkey.synopsis">
   <h2 class="title">Class synopsis</h2>


   <div class="classsynopsis">
    <div class="ooclass"><strong class="classname">MongoMaxKey</strong></div>


    <div class="classsynopsisinfo">
     <span class="ooclass">
       class <strong class="classname">MongoMaxKey</strong>
     </span>
     {</div>

   }</div>


  </div>

  <div class="section" id="mongomaxkey.example">
   <h2 class="title">Using <span class="classname">MongoMaxKey</span> as a value</h2>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br />$collection</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">insert</span><span style="color: #007700">(array(</span><span style="color: #DD0000">"task"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">"dishes"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"doBy"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;new&nbsp;</span><span style="color: #0000BB">MongoMaxKey</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">$collection</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">insert</span><span style="color: #007700">(array(</span><span style="color: #DD0000">"task"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">"staff&nbsp;meeting"</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"doBy"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;new&nbsp;</span><span style="color: #0000BB">MongoDate</span><span style="color: #007700">(</span><span style="color: #0000BB">strtotime</span><span style="color: #007700">(</span><span style="color: #DD0000">"+4&nbsp;days"</span><span style="color: #007700">))));<br /><br /></span><span style="color: #0000BB">$cursor&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$collection</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">find</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">sort</span><span style="color: #007700">(array(</span><span style="color: #DD0000">"doBy"&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">));<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

   <p class="para">
    The cursor will return the staff meeting document followed by the dishes
    document. The dishes document will always be returned last, regardless of
    what else is added to the collection (unless other documents are added with
    <span class="classname">MongoMaxKey</span> in their &quot;doBy&quot; field).
   </p>
  </div>

  <div class="simplesect">
   <h1 class="title">See Also</h1>
   <ul class="simplelist">
    <li class="member"><span class="classname">MongoMinKey</span></li>
   </ul>
  </div>
 </div>





 




 <h1 class="title">The MongoTimestamp class</h1>
 

 <div class="partintro">

  <div class="warning"><strong class="warning">Warning</strong>
   <p class="para">This extension that defines this class
is deprecated. Instead, the <a href="set.mongodb.html" class="link">MongoDB</a> extension should be used.
Alternatives to this class include:</p>
   <ul class="simplelist">
    <li class="member"><span class="classname">MongoDB\BSON\Timestamp</span></li>
   </ul>
  </div>


  <div class="section" id="mongotimestamp.intro">
   <h2 class="title">Introduction</h2>
   <p class="para">
    <span class="classname">MongoTimestamp</span> is an internal type used by MongoDB
    for replication and sharding. It consists of a 4-byte timestamp (i.e.
    seconds since the epoch) and a 4-byte increment. This type is not intended
    for storing time or date values (e.g. a &quot;createdAt&quot; field on a document).
   </p>
   <blockquote class="note"><p><strong class="note">Note</strong>: 
    <span class="simpara">
     Unless you are writing an application that interacts with MongoDB&#039;s
     replication oplog or sharding internals: stop, go directly to
     <span class="classname">MongoDate</span>, do not pass go, and do not collect 200
     dollars. This is not the class you are looking for.
    </span>
   </p></blockquote>
  </div>


  <div class="section" id="mongotimestamp.synopsis">
   <h2 class="title">Class synopsis</h2>


   <div class="classsynopsis">
    <div class="ooclass"><strong class="classname">MongoTimestamp</strong></div>


    <div class="classsynopsisinfo">
     <span class="ooclass">
       class <strong class="classname">MongoTimestamp</strong>
     </span>
     {</div>


    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Fields */</div>
    <div class="fieldsynopsis">
     <span class="modifier">public</span>
     <span class="type">int</span>
     <var class="varname">$sec</var>
     <span class="initializer"> = 0</span>
    ;</div>

    <div class="fieldsynopsis">
     <span class="modifier">public</span>
     <span class="type">int</span>
     <var class="varname">$inc</var>
     <span class="initializer"> = 0</span>
    ;</div>


    <div class="classsynopsisinfo classsynopsisinfo_comment">/* Methods */</div>
    <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>  <span class="methodname">__construct</span>
    ([ <span class="methodparam"><span class="type">int</span> <code class="parameter">$sec</code><span class="initializer"> = time()</span></span>
   [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$inc</code></span>
  ]] )</div>
<div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="type">string</span> <span class="methodname">__toString</span>
    ( <span class="methodparam">void</span>
   )</div>
 

   }</div>


  </div>
 </div>

 




















</div>
        </td>
    </tr>
</table>
</body>
</html>
