<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <title>PHP Manual: Sharing connections</title>

</head>
<body>
<table width="100%">
    <tr valign="top">
        <td style="font-size: smaller;" width="15%">
<style type="text/css">
#leftbar {
	float: left;
	width: 186px;
	padding: 5px;
	font-size: smaller;
}
ul.toc {
	margin: 0px 5px 5px 5px;
	padding: 0px;
}
ul.toc li {
	font-size: 85%;
	margin: 1px 0 1px 1px;
	padding: 1px 0 1px 11px;
	list-style-type: none;
	background-repeat: no-repeat;
	background-position: center left;
}
ul.toc li.header {
	font-size: 115%;
	padding: 5px 0px 5px 11px;
	border-bottom: 1px solid #cccccc;
	margin-bottom: 5px;
}
ul.toc li.active {
	font-weight: bold;
}
ul.toc li a {
	text-decoration: none;
}
ul.toc li a:hover {
	text-decoration: underline;
}
</style>
 <ul class="toc">
  <li class="header home"><a href="index.html">PHP Manual</a></li>
  <li class="header up"><a href="funcref.html">Function Reference</a></li>
  <li class="header up"><a href="refs.database.html">Database Extensions</a></li>
  <li class="header up"><a href="refs.database.vendors.html">Vendor Specific Database Extensions</a></li>
  <li class="header up"><a href="set.mysqlinfo.html">MySQL</a></li>
  <li class="header up"><a href="book.mysqlnd-mux.html">mysqlnd_mux</a></li>
  <li class="header up"><a href="mysqlnd-mux.concepts.html">Concepts</a></li>
  <li><a href="mysqlnd-mux.architecture.html">Architecture</a></li>
  <li><a href="mysqlnd-mux.connection_pool.html">Connection pool</a></li>
  <li class="active"><a href="mysqlnd-mux.sharing_connections.html">Sharing connections</a></li>
 </ul>

        </td>
        <td width="85%">
            <div style="text-align: center;">
                <div class="prev" style="text-align: left; float: left;"><a href="mysqlnd-mux.connection_pool.html">Connection pool</a></div>
                <div class="next" style="text-align: right; float: right;"><a href="mysqlnd-mux.setup.html">Installing/Configuring</a></div>
                <div class="up"><a href="mysqlnd-mux.concepts.html">Concepts</a></div>
                <div class="home"><a href="index.html">PHP Manual</a></div>
            </div><hr/>
<div id="mysqlnd-mux.sharing_connections" class="section">
  <h2 class="title">Sharing connections</h2>
  <p class="para">
   The PHP mysqlnd connection multiplexing plugin changes the relationship
   between a users connection handle and the underlying MySQL connection.
   Without the plugin, every MySQL connection belongs to exactly one
   user connection at a time. The multiplexing plugin changes.
   A MySQL connection is shared among multiple user handles.
   There no one-to-one relation if using the plugin.
  </p>
  <p class="para">
   Sharing pooled connections has an impact on the connection state.
   State changing operations from multiple user handles pointing to one
   MySQL connection are not isolated from each other. If, for example,
   a session variable is set through one user connection handle,
   the session variable becomes visible to all other user handles that
   reference the same underlying MySQL connection.
  </p>
  <p class="para">
   This is similar in concept to connection state related phenomens
   described for the PHP mysqlnd replication and load balancing plugin.
   Please, check the
   <a href="book.mysqlnd-ms.html" class="link">PECL/mysqlnd_ms documentation</a> for
   more details on the state of a connection.
  </p>
  <p class="para">
   The proof-of-concept takes no measures to isolate multiplexed
   connections from each other.
  </p>
 </div>
        </td>
    </tr>
</table>
</body>
</html>
