<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <title>PHP Manual: PKCS7 Flags/Constants</title>

</head>
<body>
<table width="100%">
    <tr valign="top">
        <td style="font-size: smaller;" width="15%">
<style type="text/css">
#leftbar {
	float: left;
	width: 186px;
	padding: 5px;
	font-size: smaller;
}
ul.toc {
	margin: 0px 5px 5px 5px;
	padding: 0px;
}
ul.toc li {
	font-size: 85%;
	margin: 1px 0 1px 1px;
	padding: 1px 0 1px 11px;
	list-style-type: none;
	background-repeat: no-repeat;
	background-position: center left;
}
ul.toc li.header {
	font-size: 115%;
	padding: 5px 0px 5px 11px;
	border-bottom: 1px solid #cccccc;
	margin-bottom: 5px;
}
ul.toc li.active {
	font-weight: bold;
}
ul.toc li a {
	text-decoration: none;
}
ul.toc li a:hover {
	text-decoration: underline;
}
</style>
 <ul class="toc">
  <li class="header home"><a href="index.html">PHP Manual</a></li>
  <li class="header up"><a href="funcref.html">Function Reference</a></li>
  <li class="header up"><a href="refs.crypto.html">Cryptography Extensions</a></li>
  <li class="header up"><a href="book.openssl.html">OpenSSL</a></li>
  <li class="header up"><a href="openssl.constants.html">Predefined Constants</a></li>
  <li><a href="openssl.purpose-check.html">Purpose checking flags</a></li>
  <li><a href="openssl.padding.html">Padding flags for asymmetric encryption</a></li>
  <li><a href="openssl.key-types.html">Key types</a></li>
  <li class="active"><a href="openssl.pkcs7.flags.html">PKCS7 Flags/Constants</a></li>
  <li><a href="openssl.signature-algos.html">Signature Algorithms</a></li>
  <li><a href="openssl.ciphers.html">Ciphers</a></li>
  <li><a href="openssl.constversion.html">Version constants</a></li>
  <li><a href="openssl.constsni.html">Server Name Indication constants</a></li>
 </ul>

        </td>
        <td width="85%">
            <div style="text-align: center;">
                <div class="prev" style="text-align: left; float: left;"><a href="openssl.key-types.html">Key types</a></div>
                <div class="next" style="text-align: right; float: right;"><a href="openssl.signature-algos.html">Signature Algorithms</a></div>
                <div class="up"><a href="openssl.constants.html">Predefined Constants</a></div>
                <div class="home"><a href="index.html">PHP Manual</a></div>
            </div><hr/>
<div id="openssl.pkcs7.flags" class="section">
   <h2 class="title"><acronym class="acronym">PKCS7</acronym> Flags/Constants</h2>
   <p class="para">
    The S/MIME functions make use of flags which are specified using a
    bitfield which can include one or more of the following values:
    <table class="doctable table">
     <caption><strong><acronym class="acronym">PKCS7</acronym> CONSTANTS</strong></caption>
      
       <thead>
        <tr>
         <th>Constant</th>
         <th>Description</th>
        </tr>

       </thead>

       <tbody class="tbody">
        <tr id="constant.pkcs7-text">
         <td><strong><code>PKCS7_TEXT</code></strong></td>
         <td>Adds text/plain content type headers to encrypted/signed
         message. If decrypting or verifying, it strips those headers from
         the output - if the decrypted or verified message is not of MIME type
         text/plain then an error will occur.</td>
        </tr>

        <tr id="constant.pkcs7-binary">
         <td><strong><code>PKCS7_BINARY</code></strong></td>
         <td>Normally the input message is converted to &quot;canonical&quot; format
         which is effectively using <em>CR</em> and <em>LF</em>
          as end of line: as required by the S/MIME specification.  When this
          option is present, no translation occurs. This is useful when
          handling binary data which may not be in MIME format.</td>
        </tr>

        <tr id="constant.pkcs7-nointern">
         <td><strong><code>PKCS7_NOINTERN</code></strong></td>
         <td>When verifying a message, certificates (if
           any) included in the message are normally searched for the
           signing certificate. With this option only the
           certificates specified in the <code class="parameter">extracerts</code>
           parameter of <span class="function">openssl_pkcs7_verify</span> are
           used.  The supplied certificates can still be used as
           untrusted CAs however.
         </td>
        </tr>

        <tr id="constant.pkcs7-noverify">
         <td><strong><code>PKCS7_NOVERIFY</code></strong></td>
         <td>Do not verify the signers certificate of a signed
         message.</td>
        </tr>

        <tr id="constant.pkcs7-nochain">
         <td><strong><code>PKCS7_NOCHAIN</code></strong></td>
         <td>Do not chain verification of signers certificates: that is
         don&#039;t use the certificates in the signed message as untrusted CAs.
         </td>
        </tr>

        <tr id="constant.pkcs7-nocerts">
         <td><strong><code>PKCS7_NOCERTS</code></strong></td>
         <td>When signing a message the signer&#039;s certificate is normally
         included - with this option it is excluded.  This will reduce the
         size of the signed message but the verifier must have a copy of the
         signers certificate available locally (passed using the
         <code class="parameter">extracerts</code> to
         <span class="function">openssl_pkcs7_verify</span> for example).
         </td>
        </tr>

        <tr id="constant.pkcs7-noattr">
         <td><strong><code>PKCS7_NOATTR</code></strong></td>
         <td>Normally when a message is signed, a set of attributes are
         included which include the signing time and the supported symmetric
         algorithms.  With this option they are not included.
         </td>
        </tr>

        <tr id="constant.pkcs7-detached">
         <td><strong><code>PKCS7_DETACHED</code></strong></td>
         <td>When signing a message, use cleartext signing with the MIME
         type <em>&quot;multipart/signed&quot;</em>. This is the default
         if you do not specify any <code class="parameter">flags</code> to
         <span class="function">openssl_pkcs7_sign</span>.
         If you turn this option off, the message will be signed using
         opaque signing, which is more resistant to translation by mail relays
         but cannot be read by mail agents that do not support S/MIME.</td>
        </tr>

        <tr id="constant.pkcs7-nosigs">
         <td><strong><code>PKCS7_NOSIGS</code></strong></td>
         <td>Don&#039;t try and verify the signatures on a message</td>
        </tr>

       </tbody>
      
     </table>

   </p>
   <blockquote class="note"><p><strong class="note">Note</strong>: 
     <p class="para">These constants were added in 4.0.6.</p>
   </p></blockquote>
  </div>
        </td>
    </tr>
</table>
</body>
</html>
