<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <title>PHP Manual: PDO and SQL 4D</title>

</head>
<body>
<table width="100%">
    <tr valign="top">
        <td style="font-size: smaller;" width="15%">
<style type="text/css">
#leftbar {
	float: left;
	width: 186px;
	padding: 5px;
	font-size: smaller;
}
ul.toc {
	margin: 0px 5px 5px 5px;
	padding: 0px;
}
ul.toc li {
	font-size: 85%;
	margin: 1px 0 1px 1px;
	padding: 1px 0 1px 11px;
	list-style-type: none;
	background-repeat: no-repeat;
	background-position: center left;
}
ul.toc li.header {
	font-size: 115%;
	padding: 5px 0px 5px 11px;
	border-bottom: 1px solid #cccccc;
	margin-bottom: 5px;
}
ul.toc li.active {
	font-weight: bold;
}
ul.toc li a {
	text-decoration: none;
}
ul.toc li a:hover {
	text-decoration: underline;
}
</style>
 <ul class="toc">
  <li class="header home"><a href="index.html">PHP Manual</a></li>
  <li class="header up"><a href="funcref.html">Function Reference</a></li>
  <li class="header up"><a href="refs.database.html">Database Extensions</a></li>
  <li class="header up"><a href="refs.database.abstract.html">Abstraction Layers</a></li>
  <li class="header up"><a href="book.pdo.html">PDO</a></li>
  <li class="header up"><a href="pdo.drivers.html">PDO Drivers</a></li>
  <li class="header up"><a href="ref.pdo-4d.html">4D (PDO)</a></li>
  <li><a href="ref.pdo-4d.connection.html">PDO_4D DSN</a></li>
  <li><a href="pdo-4d.constants.html">Constants for PDO_4D</a></li>
  <li><a href="pdo-4d.sqltypes.html">SQL types with PDO_4D and PHP</a></li>
  <li class="active"><a href="ref.pdo-4d.sql4d.html">SQL acceptable by 4D</a></li>
  <li><a href="pdo-4d.examples.html">Examples with PDO_4D</a></li>
 </ul>

        </td>
        <td width="85%">
            <div style="text-align: center;">
                <div class="prev" style="text-align: left; float: left;"><a href="pdo-4d.sqltypes.html">SQL types with PDO_4D and PHP</a></div>
                <div class="next" style="text-align: right; float: right;"><a href="pdo-4d.examples.html">Examples with PDO_4D</a></div>
                <div class="up"><a href="ref.pdo-4d.html">4D (PDO)</a></div>
                <div class="home"><a href="index.html">PHP Manual</a></div>
            </div><hr/>
<div id="ref.pdo-4d.sql4d" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">SQL acceptable by 4D</h1>
  <p class="refpurpose">PDO and SQL 4D</p>
 </div>

 <div class="refsect1 description" id="refsect1-ref.pdo-4d.sql4d-description">
  <h3 class="title">Description</h3>
  <p class="para">
   4D implements strictly the ANSI 89 standard, and have it enforced.
   It is highly recommended to read the 4D SQL documentation to learn
   about the available commands. The URL of the manual is :
   <a href="http://doc.4d.com/" class="link external">&raquo;&nbsp;http://doc.4d.com/</a>.
   Below is a list of 4D SQL characteristics: it is not exhaustive,
   but may serve as an introduction.
  </p>
  <p class="para">
   <table class="doctable table">
    <caption><strong>Characteristics of 4D SQL</strong></caption>
     
      <thead>
       <tr>
        <th>Characteristics</th>
        <th>Alternative</th>
        <th>Note</th>
       </tr>

      </thead>

      <tbody class="tbody">
       <tr>
        <td>INTEGER</td>
        <td>Modify the SQL to use INT.</td>
        <td>INT is the supported integer type in 4Dv12.0.</td>
       </tr>

       <tr>
        <td>CHAR</td>
        <td>Use VARCHAR instead.</td>
        <td>Unsupported in 4Dv12.0</td>
       </tr>

       <tr>
        <td>UNION</td>
        <td>Unsupported. Make separate queries.</td>
        <td>Unsupported in 4Dv12.0</td>
       </tr>

       <tr>
        <td>SELECT 1 + 1;</td>
        <td>SELECT 1 + 1 FROM _USER_SCHEMAS;</td>
        <td>FROM is required</td>
       </tr>

       <tr>
        <td>FLOAT</td>
        <td>Cast the FLOAT value into a FLOAT or STRING, with an SQL 4D function (CAST, ROUND, TRUNC or TRUNCATE)</td>
        <td>Unsupported in current versions of the PDO_4D driver</td>
       </tr>

       <tr>
        <td>Strong typing</td>
        <td>Take care your SQL query, or your PHP code provides data with the expected type</td>
        <td>
         One must provide the right type that 4D expect. One can&#039;t insert &#039;1&#039; (as a string) in an INTEGER column.
        </td>
       </tr>

       <tr>
        <td><span class="function">PDO::execute($row)</span> : only works if all the table&#039;s column are of type TEXT or VARCHAR</td>
        <td>Use the prepared statements, and use the right types.</td>
        <td>The PDO extension cast all values through execute() as string, and expect the SQL database to parse the values.</td>
       </tr>

       <tr>
        <td>SELECT NULL FROM TABLE</td>
        <td>Do not use NULL constants. Extract them from the table</td>
        <td>It is not allowed to use the NULL constant in the select list</td>
       </tr>

       <tr>
        <td>SELECT * FROM TABLE WHERE 1</td>
        <td>Use WHERE 1 = 1</td>
        <td>A constant can&#039;t be used in a WHERE clause</td>
       </tr>

       <tr>
        <td>SHOW TABLES</td>
        <td>Use system tables</td>
        <td>
         The list of tables, schemas, index, etc. are in these system tables :
         <em>_USER_TABLES</em>,  <em>_USER_COLUMNS</em>,  
         <em>_USER_INDEXES</em>,  <em>_USER_CONSTRAINTS</em>,  
         <em>_USER_IND_COLUMNS</em>,  <em>_USER_CONS_COLUMNS</em>,
         and <em>_USER_SCHEMAS</em>.
        </td>
       </tr>

       <tr>
        <td>SQL structure delimiter</td>
        <td>
         Use the following function to protect SQL elements:
         function sqlEscapeElement(elem) {
            return &#039;[&#039; . str_replace(&#039;]&#039;,&#039;]]&#039;, $elem) . &#039;]&#039;;
         }
        </td>
        <td>
         To escape SQL elements names (tables, fields, users, 
         groups, schema, primary key, etc.), the whole identifier
         must be between square brackets, and the closing 
         brackets &#039;]&#039; must be doubled.
        </td>
       </tr>

      </tbody>
     
    </table>

  </p>
 </div>

</div>
        </td>
    </tr>
</table>
</body>
</html>
