<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <title>PHP Manual: Calling another Service Component</title>

</head>
<body>
<table width="100%">
    <tr valign="top">
        <td style="font-size: smaller;" width="15%">
<style type="text/css">
#leftbar {
	float: left;
	width: 186px;
	padding: 5px;
	font-size: smaller;
}
ul.toc {
	margin: 0px 5px 5px 5px;
	padding: 0px;
}
ul.toc li {
	font-size: 85%;
	margin: 1px 0 1px 1px;
	padding: 1px 0 1px 11px;
	list-style-type: none;
	background-repeat: no-repeat;
	background-position: center left;
}
ul.toc li.header {
	font-size: 115%;
	padding: 5px 0px 5px 11px;
	border-bottom: 1px solid #cccccc;
	margin-bottom: 5px;
}
ul.toc li.active {
	font-weight: bold;
}
ul.toc li a {
	text-decoration: none;
}
ul.toc li a:hover {
	text-decoration: underline;
}
</style>
 <ul class="toc">
  <li class="header home"><a href="index.html">PHP Manual</a></li>
  <li class="header up"><a href="funcref.html">Function Reference</a></li>
  <li class="header up"><a href="refs.webservice.html">Web Services</a></li>
  <li class="header up"><a href="book.sca.html">SCA</a></li>
  <li class="header up"><a href="sca.examples.html">Examples</a></li>
  <li><a href="sca.examples.structure.html">The structure of a Service Component</a></li>
  <li><a href="sca.examples.proxies.html">Obtaining a proxy for another Service Component</a></li>
  <li class="active"><a href="sca.examples.calling.html">Calling another Service Component</a></li>
  <li><a href="sca.examples.nonscascript.html">Locating and calling services from a script which is not an
   SCA Component</a></li>
  <li><a href="sca.examples.exposing-webservice.html">Exposing a Service Component as a Web service</a></li>
  <li><a href="sca.examples.deploy.html">Deploying an SCA component</a></li>
  <li><a href="sca.examples.obtaining-wsdl.html">Obtaining the WSDL for an SCA component offering a Service as
   a Web service</a></li>
  <li><a href="sca.examples.understanding-wsdl.html">Understanding how the WSDL is generated</a></li>
  <li><a href="sca.examples.structures.html">Working with Data Structures</a></li>
  <li><a href="sca.examples.errorhandling.html">Error handling</a></li>
 </ul>

        </td>
        <td width="85%">
            <div style="text-align: center;">
                <div class="prev" style="text-align: left; float: left;"><a href="sca.examples.proxies.html">Obtaining a proxy for another Service Component</a></div>
                <div class="next" style="text-align: right; float: right;"><a href="sca.examples.nonscascript.html">Locating and calling services from a script which is not an
   SCA Component</a></div>
                <div class="up"><a href="sca.examples.html">Examples</a></div>
                <div class="home"><a href="index.html">PHP Manual</a></div>
            </div><hr/>
<div id="sca.examples.calling" class="section">
  <h2 class="title"> Calling another Service Component </h2>
  
  <p class="para">
   The ConvertedStockQuote example also calls the proxies for
   the two components to which it refers. 
  </p>
  
  <p class="para">
   <div class="example" id="example-6178">
    <p><strong>Example #1  Calling services </strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$quote&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">stock_quote</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getQuote</span><span style="color: #007700">(</span><span style="color: #0000BB">$ticker</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$rate&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">exchange_rate</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getRate</span><span style="color: #007700">(</span><span style="color: #0000BB">$currency</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
  
  <p class="para"> 
   The call to the StockQuote service is a call to a local service;
   the call to the ExchangeRate service is a call to a remote service.
   Note that the way the call is made looks the same regardless of
   whether the call is to a local service or a remote one. 
  </p>

  <p class="para"> 
   The proxies which have been injected ensure that the way calls
   to components look and behave are the same way regardless of whether
   they are to a local or remote service, so that components are not
   sensitive to whether a call is to a local or a remote service. For
   example, the proxy for a local service takes copies of the arguments
   and passes only those copies, to ensure that calls are made to be
   pass-by-value, as they would be for a remote call. Also, the proxy
   for a remote service takes the arguments from a positional
   parameter list and ensures they are packaged properly in a SOAP
   request and converted back to a positional parameter list at the far
   end. 
  </p>
  
  <p class="para"> 
   In the example above, the
   
   <var class="varname">$ticker</var> and
   
   <var class="varname">$currency</var> are clearly PHP scalar types.
   Components can pass the PHP scalar types string, integer, float and
   boolean, but data structures on service calls are always passed as
   Service Data Objects (SDOs). A later section describes how a
   component can create an SDO to pass on a local or Web service call, or
   how a component can create an SDO to return. The PHP SDO project
   documentation describes how to work with the SDO APIs (see
   <a href="ref.sdo.html" class="link">the SDO pages</a>).
  </p>
  
 </div>
        </td>
    </tr>
</table>
</body>
</html>
