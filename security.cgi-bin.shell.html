<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <title>PHP Manual: Case 4: PHP parser outside of web tree</title>

</head>
<body>
<table width="100%">
    <tr valign="top">
        <td style="font-size: smaller;" width="15%">
<style type="text/css">
#leftbar {
	float: left;
	width: 186px;
	padding: 5px;
	font-size: smaller;
}
ul.toc {
	margin: 0px 5px 5px 5px;
	padding: 0px;
}
ul.toc li {
	font-size: 85%;
	margin: 1px 0 1px 1px;
	padding: 1px 0 1px 11px;
	list-style-type: none;
	background-repeat: no-repeat;
	background-position: center left;
}
ul.toc li.header {
	font-size: 115%;
	padding: 5px 0px 5px 11px;
	border-bottom: 1px solid #cccccc;
	margin-bottom: 5px;
}
ul.toc li.active {
	font-weight: bold;
}
ul.toc li a {
	text-decoration: none;
}
ul.toc li a:hover {
	text-decoration: underline;
}
</style>
 <ul class="toc">
  <li class="header home"><a href="index.html">PHP Manual</a></li>
  <li class="header up"><a href="security.html">Security</a></li>
  <li class="header up"><a href="security.cgi-bin.html">Installed as CGI binary</a></li>
  <li><a href="security.cgi-bin.attacks.html">Possible attacks</a></li>
  <li><a href="security.cgi-bin.default.html">Case 1: only public files served</a></li>
  <li><a href="security.cgi-bin.force-redirect.html">Case 2: using cgi.force_redirect</a></li>
  <li><a href="security.cgi-bin.doc-root.html">Case 3: setting doc_root or user_dir</a></li>
  <li class="active"><a href="security.cgi-bin.shell.html">Case 4: PHP parser outside of web tree</a></li>
 </ul>

        </td>
        <td width="85%">
            <div style="text-align: center;">
                <div class="prev" style="text-align: left; float: left;"><a href="security.cgi-bin.doc-root.html">Case 3: setting doc_root or user_dir</a></div>
                <div class="next" style="text-align: right; float: right;"><a href="security.apache.html">Installed as an Apache module</a></div>
                <div class="up"><a href="security.cgi-bin.html">Installed as CGI binary</a></div>
                <div class="home"><a href="index.html">PHP Manual</a></div>
            </div><hr/>
<div id="security.cgi-bin.shell" class="sect1">
    <h2 class="title">Case 4: PHP parser outside of web tree</h2>
    <p class="para">
     A very secure option is to put the PHP parser binary somewhere
     outside of the web tree of files.  In <var class="filename">/usr/local/bin</var>, for example.  The only real
     downside to this option is that you will now have to put a line
     similar to:
     <div class="informalexample">
      <div class="example-contents">
<div class="cdata"><pre>
#!/usr/local/bin/php
</pre></div>
      </div>

     </div>
     as the first line of any file containing PHP tags.  You will also
     need to make the file executable.  That is, treat it exactly as
     you would treat any other CGI script written in Perl or sh or any
     other common scripting language which uses the
     <em>#!</em> shell-escape mechanism for launching
     itself.
    </p>
    <p class="para">
     To get PHP to handle <var class="envar">PATH_INFO</var> and
     <var class="envar">PATH_TRANSLATED</var> information correctly with this
     setup, the PHP parser should be compiled with the <a href="configure.about.html#configure.enable-discard-path" class="link">--enable-discard-path</a>
     configure option.
    </p>
   </div>
        </td>
    </tr>
</table>
</body>
</html>
