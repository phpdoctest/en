<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
    <title>PHP Manual: Specify application credentials.</title>

</head>
<body>
<table width="100%">
    <tr valign="top">
        <td style="font-size: smaller;" width="15%">
<style type="text/css">
#leftbar {
	float: left;
	width: 186px;
	padding: 5px;
	font-size: smaller;
}
ul.toc {
	margin: 0px 5px 5px 5px;
	padding: 0px;
}
ul.toc li {
	font-size: 85%;
	margin: 1px 0 1px 1px;
	padding: 1px 0 1px 11px;
	list-style-type: none;
	background-repeat: no-repeat;
	background-position: center left;
}
ul.toc li.header {
	font-size: 115%;
	padding: 5px 0px 5px 11px;
	border-bottom: 1px solid #cccccc;
	margin-bottom: 5px;
}
ul.toc li.active {
	font-weight: bold;
}
ul.toc li a {
	text-decoration: none;
}
ul.toc li a:hover {
	text-decoration: underline;
}
</style>
 <ul class="toc">
  <li class="header home"><a href="index.html">PHP Manual</a></li>
  <li class="header up"><a href="funcref.html">Function Reference</a></li>
  <li class="header up"><a href="refs.remote.other.html">Other Services</a></li>
  <li class="header up"><a href="book.zookeeper.html">ZooKeeper</a></li>
  <li class="header up"><a href="class.zookeeper.html">ZooKeeper</a></li>
  <li class="active"><a href="zookeeper.addauth.html">Zookeeper::addAuth</a></li>
  <li><a href="zookeeper.connect.html">Zookeeper::connect</a></li>
  <li><a href="zookeeper.construct.html">Zookeeper::__construct</a></li>
  <li><a href="zookeeper.create.html">Zookeeper::create</a></li>
  <li><a href="zookeeper.delete.html">Zookeeper::delete</a></li>
  <li><a href="zookeeper.exists.html">Zookeeper::exists</a></li>
  <li><a href="zookeeper.get.html">Zookeeper::get</a></li>
  <li><a href="zookeeper.getacl.html">Zookeeper::getAcl</a></li>
  <li><a href="zookeeper.getclientid.html">Zookeeper::getClientId</a></li>
  <li><a href="zookeeper.getrecvtimeout.html">Zookeeper::getRecvTimeout</a></li>
  <li><a href="zookeeper.getstate.html">Zookeeper::getState</a></li>
  <li><a href="zookeeper.isrecoverable.html">Zookeeper::isRecoverable</a></li>
  <li><a href="zookeeper.set.html">Zookeeper::set</a></li>
  <li><a href="zookeeper.setacl.html">Zookeeper::setAcl</a></li>
  <li><a href="zookeeper.setdebuglevel.html">Zookeeper::setDebugLevel</a></li>
  <li><a href="zookeeper.setdeterministicconnorder.html">Zookeeper::setDeterministicConnOrder</a></li>
  <li><a href="zookeeper.setlogstream.html">Zookeeper::setLogStream</a></li>
  <li><a href="zookeeper.setwatcher.html">Zookeeper::setWatcher</a></li>
 </ul>

        </td>
        <td width="85%">
            <div style="text-align: center;">
                <div class="prev" style="text-align: left; float: left;"><a href="class.zookeeper.html">ZooKeeper</a></div>
                <div class="next" style="text-align: right; float: right;"><a href="zookeeper.connect.html">Zookeeper::connect</a></div>
                <div class="up"><a href="class.zookeeper.html">ZooKeeper</a></div>
                <div class="home"><a href="index.html">PHP Manual</a></div>
            </div><hr/>
<div id="zookeeper.addauth" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">Zookeeper::addAuth</h1>
  <p class="refpurpose">Specify application credentials.</p>
 </div>

 <div class="refsect1 description" id="refsect1-zookeeper.addauth-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span>
   <span class="type">bool</span> <span class="methodname">Zookeeper::addAuth</span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$scheme</code></span>
   , <span class="methodparam"><span class="type">string</span> <code class="parameter">$cert</code></span>
   [, <span class="methodparam"><span class="type">callable</span> <code class="parameter">$completion_cb</code><span class="initializer"> = null</span></span>
  ] )</div>

  <p class="para rdfs-comment">
   The application calls this function to specify its credentials for purposes of authentication. The server will use the security provider specified by the scheme parameter to authenticate the client connection. If the authentication request has failed:
    - the server connection is dropped.
    - the watcher is called with the ZOO_AUTH_FAILED_STATE value as the state parameter.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-zookeeper.addauth-parameters">
  <h3 class="title">Parameters</h3>
  <dl>

   
    <dt>
<code class="parameter">scheme</code></dt>

    <dd>

     <p class="para">
      The id of authentication scheme. Natively supported: &quot;digest&quot; password-based authentication
     </p>
    </dd>

   
   
    <dt>
<code class="parameter">cert</code></dt>

    <dd>

     <p class="para">
      Application credentials. The actual value depends on the scheme.
     </p>
    </dd>

   
   
    <dt>
<code class="parameter">completion_cb</code></dt>

    <dd>

     <p class="para">
      The routine to invoke when the request completes. One of the following result codes may be passed into the completion callback:
      - ZOK operation completed successfully
      - ZAUTHFAILED authentication failed
     </p>
    </dd>

   
  </dl>

 </div>


 <div class="refsect1 returnvalues" id="refsect1-zookeeper.addauth-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   Returns <strong><code>TRUE</code></strong> on success or <strong><code>FALSE</code></strong> on failure.
  </p>
 </div>


 <div class="refsect1 errors" id="refsect1-zookeeper.addauth-errors">
  <h3 class="title">Errors/Exceptions</h3>
  <p class="para">
   This method emits PHP error/warning when parameters count or types are wrong or operation fails.
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-zookeeper.addauth-examples">
  <h3 class="title">Examples</h3>
  <div class="example" id="example-5256">
   <p><strong>Example #1  <span class="methodname">Zookeeper::addAuth</span> example</strong></p>
   <div class="example-contents"><p>
     Add auth before requesting node value.
   </p></div>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$zookeeper&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Zookeeper</span><span style="color: #007700">(</span><span style="color: #DD0000">'locahost:2181'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$path&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'/path/to/node'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$value&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'nodevalue'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$zookeeper</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">set</span><span style="color: #007700">(</span><span style="color: #0000BB">$path</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$value</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$zookeeper</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addAuth</span><span style="color: #007700">(</span><span style="color: #DD0000">'digest'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'user0:passwd0'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$r&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$zookeeper</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">get</span><span style="color: #007700">(</span><span style="color: #0000BB">$path</span><span style="color: #007700">);<br />if&nbsp;(</span><span style="color: #0000BB">$r</span><span style="color: #007700">)<br />&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$r</span><span style="color: #007700">;<br />else<br />&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'ERR'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

   <div class="example-contents"><p>The above example will output:</p></div>
   <div class="example-contents screen">
<div class="cdata"><pre>
nodevalue
</pre></div>
   </div>
  </div>
 </div>


 <div class="refsect1 seealso" id="refsect1-zookeeper.addauth-seealso">
  <h3 class="title">See Also</h3>
  <ul class="simplelist">
   <li class="member"> <span class="methodname">Zookeeper::create</span></li>
   <li class="member"> <span class="methodname">Zookeeper::setAcl</span></li>
   <li class="member"> <span class="methodname">Zookeeper::getAcl</span></li>
   <li class="member"><a href="class.zookeeper.html#zookeeper.class.constants.states" class="link">ZooKeeper States</a></li>
  </ul>
 </div>


</div>
        </td>
    </tr>
</table>
</body>
</html>
